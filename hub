-- GMBT Hub ‚Äî Booga Booga Reborn (full merged build + leash & BV failsafes)
-- UI: Fluent-Renewed  ‚Ä¢  –ê–≤—Ç–æ—Ä: GMBT

-- ========= [ –ö–õ–Æ–ß–ï–í–ê–Ø –°–ò–°–¢–ï–ú–ê ] =========
local CORRECT_KEYS = {
    "ERIK111",
    "WERDER111", 
    "pika123"
} -- –ü–æ–º–µ–Ω—è–π –∫–ª—é—á–∏ –∑–¥–µ—Å—å

local function getKeyInput()
    local keyGui = Instance.new("ScreenGui")
    keyGui.Parent = game:GetService("CoreGui")
    keyGui.Name = "KeySystem"
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Parent = keyGui
    mainFrame.Size = UDim2.new(0, 400, 0, 250)
    mainFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
    mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    mainFrame.BorderSizePixel = 2
    mainFrame.BorderColor3 = Color3.fromRGB(0, 150, 255)
    mainFrame.Active = true
    mainFrame.Draggable = true
    
    local title = Instance.new("TextLabel")
    title.Parent = mainFrame
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Position = UDim2.new(0, 0, 0, 10)
    title.BackgroundTransparency = 1
    title.Text = "üîê GMBT Hub - –ö–ª—é—á–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextSize = 18
    title.Font = Enum.Font.SourceSansBold
    title.TextWrapped = true
    
    local info = Instance.new("TextLabel")
    info.Parent = mainFrame
    info.Size = UDim2.new(1, -20, 0, 40)
    info.Position = UDim2.new(0, 10, 0, 60)
    info.BackgroundTransparency = 1
    info.Text = "–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∫—Ä–∏–ø—Ç—É:\n(–î–æ—Å—Ç—É–ø–Ω–æ 3 –∫–ª—é—á–∞)"
    info.TextColor3 = Color3.fromRGB(200, 200, 200)
    info.TextSize = 14
    info.Font = Enum.Font.SourceSans
    info.TextWrapped = true
    
    local keyBox = Instance.new("TextBox")
    keyBox.Parent = mainFrame
    keyBox.Size = UDim2.new(1, -20, 0, 35)
    keyBox.Position = UDim2.new(0, 10, 0, 110)
    keyBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    keyBox.BorderSizePixel = 1
    keyBox.BorderColor3 = Color3.fromRGB(100, 100, 100)
    keyBox.Text = ""
    keyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    keyBox.TextSize = 16
    keyBox.Font = Enum.Font.SourceSans
    keyBox.PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á..."
    keyBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
    
    local submitBtn = Instance.new("TextButton")
    submitBtn.Parent = mainFrame
    submitBtn.Size = UDim2.new(0, 120, 0, 35)
    submitBtn.Position = UDim2.new(0.5, -60, 0, 160)
    submitBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    submitBtn.BorderSizePixel = 0
    submitBtn.Text = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
    submitBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    submitBtn.TextSize = 14
    submitBtn.Font = Enum.Font.SourceSansBold
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Parent = mainFrame
    statusLabel.Size = UDim2.new(1, -20, 0, 25)
    statusLabel.Position = UDim2.new(0, 10, 0, 205)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = ""
    statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    statusLabel.TextSize = 12
    statusLabel.Font = Enum.Font.SourceSans
    statusLabel.TextWrapped = true
    
    local userInput = ""
    local isCorrect = false
    
    -- –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–∞
    local function checkKey(key)
        for _, validKey in ipairs(CORRECT_KEYS) do
            if key == validKey then
                return true
            end
        end
        return false
    end
    
    keyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            userInput = keyBox.Text
            if checkKey(userInput) then
                isCorrect = true
                statusLabel.Text = "‚úÖ –ö–ª—é—á –ø—Ä–∏–Ω—è—Ç! –ó–∞–≥—Ä—É–∑–∫–∞..."
                statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
                wait(1)
                keyGui:Destroy()
            else
                statusLabel.Text = "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
                statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
                keyBox.Text = ""
                wait(2)
                statusLabel.Text = ""
            end
        end
    end)
    
    submitBtn.MouseButton1Click:Connect(function()
        userInput = keyBox.Text
        if checkKey(userInput) then
            isCorrect = true
            statusLabel.Text = "‚úÖ –ö–ª—é—á –ø—Ä–∏–Ω—è—Ç! –ó–∞–≥—Ä—É–∑–∫–∞..."
            statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
            wait(1)
            keyGui:Destroy()
        else
            statusLabel.Text = "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            keyBox.Text = ""
            wait(2)
            statusLabel.Text = ""
        end
    end)
    
    -- –ñ–¥–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞
    while not isCorrect do
        wait(0.1)
        if not keyGui.Parent then -- –ï—Å–ª–∏ GUI –∑–∞–∫—Ä—ã–ª–∏ –≤—Ä—É—á–Ω—É—é
            return false
        end
    end
    
    return true
end

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á
if not getKeyInput() then
    warn("–ö–ª—é—á –Ω–µ –≤–≤–µ–¥–µ–Ω. –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.")
    return
end

-- ========= [ Fluent UI –∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã ] =========
local Library = loadstring(game:HttpGetAsync("https://github.com/1dontgiveaf/Fluent-Renewed/releases/download/v1.0/Fluent.luau"))()
local SaveManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/1dontgiveaf/Fluent-Renewed/refs/heads/main/Addons/SaveManager.luau"))()
local InterfaceManager = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/1dontgiveaf/Fluent-Renewed/refs/heads/main/Addons/InterfaceManager.luau"))()
-- ========= [ Services / utils ] =========
local HttpService       = game:GetService("HttpService")
local Players           = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService        = game:GetService("RunService")
local Workspace         = game:GetService("Workspace")
local UIS               = game:GetService("UserInputService")
local Lighting          = game:GetService("Lighting")
local plr  = Players.LocalPlayer
local char = plr.Character or plr.CharacterAdded:Wait()
local hum  = char:WaitForChild("Humanoid")
local root = char:WaitForChild("HumanoidRootPart")
local function ensureChar()
    char = plr.Character or plr.CharacterAdded:Wait()
    hum  = char:WaitForChild("Humanoid")
    root = char:WaitForChild("HumanoidRootPart")
end
plr.CharacterAdded:Connect(function() task.defer(ensureChar) end)
-- ========= [ Packets (–±–µ–∑ –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –º–æ–¥—É–ª—è –Ω–µ—Ç) ] =========
local packets do
    local ok, mod = pcall(function() return require(ReplicatedStorage:WaitForChild("Modules"):WaitForChild("Packets")) end)
    packets = ok and mod or {}
end
local function swingtool(eids)
    if type(eids) ~= "table" then eids = { eids } end
    if packets and packets.SwingTool and packets.SwingTool.send then
        pcall(function() packets.SwingTool.send(eids) end)
    end
end
local function pickup(eid)
    if packets and packets.Pickup and packets.Pickup.send then
        pcall(function() packets.Pickup.send(eid) end)
    end
end
-- ========= [ Window / Tabs ] =========
local Window = Library:CreateWindow{
    Title = "GMBT Hub -- Booga Booga Reborn",
    SubTitle = "by GMBT",
    Size = UDim2.fromOffset(840, 560),
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
}
print("GMBT Hub: Window created successfully")
local Tabs = {}
Tabs.Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
-- –º–µ–Ω–µ–¥–∂–µ—Ä—ã
SaveManager:SetLibrary(Library)
InterfaceManager:SetLibrary(Library)
SaveManager:IgnoreThemeSettings()
InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)
-- ========= [ Helpers ] =========
local function sanitize(name)
    name = tostring(name or ""):gsub("[%c\\/:*?\"<>|]+",""):gsub("^%s+",""):gsub("%s+$","")
    return name == "" and "default" or name
end
-- ========= [ ROUTE persist ] =========
local function routePath(cfg) return "FluentScriptHub/specific-game/"..sanitize(cfg)..".route.json" end
local ROUTE_AUTOSAVE = "FluentScriptHub/specific-game/_route_autosave.json"
local function encodeRoute(points)
    local t = {}
    for i,p in ipairs(points or {}) do
        t[i] = { x=p.pos.X, y=p.pos.Y, z=p.pos.Z, wait=p.wait or 0, js=p.jump_start or nil, je=p.jump_end or nil }
    end
    return t
end
local function decodeRoute(t)
    local out = {}
    for _,r in ipairs(t or {}) do
        table.insert(out, { pos=Vector3.new(r.x,r.y,r.z), wait=(r.wait and r.wait>0) and r.wait or nil, jump_start=r.js or nil, jump_end=r.je or nil })
    end
    return out
end
local function Route_SaveToFile(path, points)
    if not writefile then return false end
    local ok, json = pcall(function() return HttpService:JSONEncode(encodeRoute(points)) end)
    if not ok then return false end
    local ok2 = pcall(writefile, path, json)
    return ok2 == true or ok2 == nil
end
local function Route_LoadFromFile(path, Route, redraw)
    if not (isfile and readfile) or not isfile(path) then return false end
    local ok, json = pcall(readfile, path); if not ok then return false end
    local ok2, arr = pcall(function() return HttpService:JSONDecode(json) end); if not ok2 then return false end
    table.clear(Route.points)
    if redraw and type(redraw.clearDots) == "function" then redraw.clearDots() end
    for _,p in ipairs(decodeRoute(arr)) do
        table.insert(Route.points, p)
        if redraw and type(redraw.dot) == "function" then redraw.dot(Color3.fromRGB(255,230,80), p.pos, 0.7) end
    end
    return true
end
-- ========= [ –û–±—â–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å/–µ–¥—ã ] =========
function findInventoryList()
    local pg = plr:FindFirstChild("PlayerGui"); if not pg then return nil end
    local mg = pg:FindFirstChild("MainGui");    if not mg then return nil end
    local rp = mg:FindFirstChild("RightPanel"); if not rp then return nil end
    local inv = rp:FindFirstChild("Inventory"); if not inv then return nil end
    return inv:FindFirstChild("List")
end
local inventoryCache = {list = nil, lastUpdate = 0}
function getSlotByName(itemName)
    local now = tick()
    if now - inventoryCache.lastUpdate > 0.5 or not inventoryCache.list then
        inventoryCache.list = findInventoryList()
        inventoryCache.lastUpdate = now
    end
    local list = inventoryCache.list
    if not list then return nil end
    for _,child in ipairs(list:GetChildren()) do
        if child:IsA("ImageLabel") and child.Name == itemName then
            return child.LayoutOrder
        end
    end
    return nil
end
function consumeBySlot(slot)
    if not slot then return false end
    if packets and packets.UseBagItem     and packets.UseBagItem.send     then pcall(function() packets.UseBagItem.send(slot) end);     return true end
    if packets and packets.ConsumeBagItem and packets.ConsumeBagItem.send then pcall(function() packets.ConsumeBagItem.send(slot) end); return true end
    if packets and packets.ConsumeItem    and packets.ConsumeItem.send    then pcall(function() packets.ConsumeItem.send(slot) end);    return true end
    if packets and packets.UseItem        and packets.UseItem.send        then pcall(function() packets.UseItem.send(slot) end);        return true end
    return false
end
_G.fruittoitemid = _G.fruittoitemid or {
    Bloodfruit=94, Bluefruit=377, Lemon=99, Coconut=1, Jelly=604, Banana=606, Orange=602,
    Oddberry=32, Berry=35, Strangefruit=302, Strawberry=282, Sunfruit=128, Pumpkin=80,
    ["Prickly Pear"]=378, Apple=243, Barley=247, Cloudberry=101, Carrot=147
}
function getItemIdByName(name) local t=_G.fruittoitemid return t and t[name] or nil end
function consumeById(id)
    if not id then return false end
    if packets and packets.ConsumeItem and packets.ConsumeItem.send then pcall(function() packets.ConsumeItem.send(id) end); return true end
    if packets and packets.UseItem     and packets.UseItem.send     then pcall(function() packets.UseItem.send({itemID=id}) end); return true end
    if packets and packets.Eat         and packets.Eat.send         then pcall(function() packets.Eat.send(id) end); return true end
    if packets and packets.EatFood     and packets.EatFood.send     then pcall(function() packets.EatFood.send(id) end); return true end
    return false
end
-- ========= [ TAB: Configs ] =========
 do
Tabs.Configs = Window:AddTab({ Title = "Configs", Icon = "save" })
local cfgName = "default"
local cfgInput = Tabs.Configs:AddInput("cfg_name_input",{ Title="Config name", Default=cfgName })
cfgInput:OnChanged(function(v) cfgName = sanitize(v) end)
Tabs.Configs:CreateButton({
    Title="Quick Save",
    Callback=function()
        local n = sanitize(cfgName)
        pcall(function() SaveManager:Save(n) end)
        -- –£–±–∏—Ä–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
        -- Route_SaveToFile(routePath(n), (_G.__ROUTE and _G.__ROUTE.points) or {})
        -- Route_SaveToFile(ROUTE_AUTOSAVE, (_G.__ROUTE and _G.__ROUTE.points) or {})
        Library:Notify{ Title="Configs", Content="Saved "..n, Duration=3 }
    end
})
Tabs.Configs:CreateButton({
    Title="Quick Load",
    Callback=function()
        local n = sanitize(cfgName)
        pcall(function() SaveManager:Load(n) end)
        -- –£–±–∏—Ä–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
        -- if _G.__ROUTE then
        --     local ok = Route_LoadFromFile(routePath(n), _G.__ROUTE, _G.__ROUTE._redraw)
        --     Library:Notify{ Title="Configs", Content="Loaded "..n..(ok and " +route" or " (no route file)"), Duration=3 }
        -- else
            Library:Notify{ Title="Configs", Content="Loaded "..n, Duration=3 }
        -- end
    end
})
local auto = Tabs.Configs:CreateToggle("autoload_cfg",{ Title="Autoload this config", Default=true })
auto:OnChanged(function(v)
    local n = sanitize(cfgName)
    if v then pcall(function() SaveManager:SaveAutoloadConfig(n) end)
    else pcall(function() SaveManager:DeleteAutoloadConfig() end) end
end)
 end
-- ========= [ TAB: Survival (Auto-Eat) ] =========
 do
Tabs.Survival = Window:AddTab({ Title="Survival", Icon="apple" })
local ae_toggle = Tabs.Survival:CreateToggle("ae_toggle", { Title="Auto Eat (Hunger)", Default=false })
local ae_food   = Tabs.Survival:CreateDropdown("ae_food", { Title="Food to eat",
    Values={"Bloodfruit","Berry","Bluefruit","Coconut","Strawberry","Pumpkin","Apple","Lemon","Orange","Banana"},
    Default="Lemon" })
local ae_thresh = Tabs.Survival:CreateSlider("ae_thresh", { Title="Setpoint / Threshold (%)", Min=1, Max=100, Rounding=0, Default=70 })
local ae_mode   = Tabs.Survival:CreateDropdown("ae_mode", { Title="Scale mode", Values={"Fullness 100‚Üí0","Hunger 0‚Üí100"}, Default="Fullness 100‚Üí0" })
local ae_debug  = Tabs.Survival:CreateToggle("ae_debug", { Title="Debug logs (F9)", Default=false })
local function normPct(n) if type(n)~="number" then return nil end if n<=1.5 then n=n*100 end return math.clamp(n,0,100) end
local function readHungerFromValues() for _,v in ipairs(plr:GetDescendants()) do if v.Name=="Hunger" and (v:IsA("NumberValue") or v:IsA("IntValue")) then return normPct(v.Value) end end end
local hungerCache = {value = 100, lastUpdate = 0}
local function readHungerFromBar()
    local now = tick()
    if now - hungerCache.lastUpdate < 0.1 then return hungerCache.value end
    local pg=plr:FindFirstChild("PlayerGui"); if not pg then return end
    local mg=pg:FindFirstChild("MainGui"); if not mg then return end
    local bars=mg:FindFirstChild("Bars"); if not bars then return end
    local hb=bars:FindFirstChild("Hunger")
    if hb and hb:IsA("Frame") and hb.Size and hb.Size.X and typeof(hb.Size.X.Scale)=="number" then
        hungerCache.value = normPct(hb.Size.X.Scale)
        hungerCache.lastUpdate = now
        return hungerCache.value
    end
end
local function readHungerFromText()
    local now = tick()
    if now - hungerCache.lastUpdate < 0.1 then return hungerCache.value end
    local pg=plr:FindFirstChild("PlayerGui"); if not pg then return end
    for _,inst in ipairs(pg:GetDescendants()) do
        if inst:IsA("TextLabel") then
            local txt=tostring(inst.Text or ""):lower()
            if txt:find("–≥–æ–ª–æ–¥") or inst.Name:lower():find("hunger") or (inst.Parent and inst.Parent.Name:lower():find("hunger")) then
                local num=tonumber(txt:match("([-+]?%d+%.?%d*)"))
                if num and num>=0 and num<=100 then 
                    hungerCache.value = num
                    hungerCache.lastUpdate = now
                    return num 
                end
            end
        end
    end
end
local function readHungerFromAttr() local a=plr:GetAttribute("Hunger") if typeof(a)=="number" then return normPct(a) end end
local function readHungerPercent() return readHungerFromValues() or readHungerFromBar() or readHungerFromText() or readHungerFromAttr() or 100 end
local eatingLock=false
local foodCache = {name = nil, slot = nil, id = nil, lastUpdate = 0}
local function getCachedFoodItem()
    local now = tick()
    local currentFood = ae_food.Value or "Lemon"
    
    if now - foodCache.lastUpdate > 1.0 or foodCache.name ~= currentFood then
        foodCache.name = currentFood
        foodCache.slot = getSlotByName(currentFood)
        foodCache.id = getItemIdByName(currentFood)
        foodCache.lastUpdate = now
    end
    
    return foodCache.slot, foodCache.id
end

task.spawn(function()
    local lastCheck = 0
    local checkInterval = 0.4
    local lastTarget = -1
    local lastMode = ""
    local consecutiveMisses = 0
    local maxConsecutiveMisses = 3
    
    while true do
        task.wait(checkInterval)
        if not ae_toggle.Value then 
            consecutiveMisses = 0
            continue 
        end
        
        local now = tick()
        if now - lastCheck < checkInterval then continue end
        lastCheck = now
        
        local target = ae_thresh.Value
        local mode = ae_mode.Value
        
        -- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∏ –Ω–µ–¥–∞–≤–Ω–æ –µ–ª–∏
        if target == lastTarget and mode == lastMode and consecutiveMisses >= maxConsecutiveMisses then
            task.wait(checkInterval * 2)
            continue
        end
        
        lastTarget = target
        lastMode = mode
        
        local cur = readHungerPercent()
        local need = (mode == "Fullness 100‚Üí0" and cur < target) or (mode == "Hunger 0‚Üí100" and cur > target)
        
        if need and not eatingLock then
            eatingLock = true
            task.spawn(function()
                local tries, maxTries = 0, 18
                local minDelay, band = 0.1, 0.5
                local lastHunger = cur
                local slot, id = getCachedFoodItem()
                
                while ae_toggle.Value and tries < maxTries do
                    cur = readHungerPercent()
                    
                    if math.abs(cur - lastHunger) > 0.15 then
                        lastHunger = cur
                        local okNow = (mode == "Fullness 100‚Üí0" and cur >= target - band) or (mode == "Hunger 0‚Üí100" and cur <= target + band)
                        if okNow then 
                            consecutiveMisses = 0
                            if ae_debug.Value then print(("[AutoEat] reached: %.1f / %d (%s)"):format(cur, target, mode)) end
                            break 
                        end
                    end
                    
                    local ate = false
                    if slot then
                        ate = consumeBySlot(slot)
                    else
                        slot = getSlotByName(ae_food.Value or "Lemon")
                        if slot then
                            ate = consumeBySlot(slot)
                        elseif id then
                            ate = consumeById(id)
                        else
                            id = getItemIdByName(ae_food.Value or "Lemon")
                            if id then ate = consumeById(id) end
                        end
                    end
                    
                    if ae_debug.Value then print(("[AutoEat] try=%d -> %s"):format(tries + 1, ate and "EAT" or "MISS")) end
                    
                    if ate then
                        consecutiveMisses = 0
                        tries = tries + 1
                        task.wait(minDelay * 2)
                    else
                        consecutiveMisses = consecutiveMisses + 1
                        if consecutiveMisses >= maxConsecutiveMisses then
                            if ae_debug.Value then print("[AutoEat] Too many misses, refreshing cache") end
                            foodCache.lastUpdate = 0 -- –°–±—Ä–æ—Å –∫—ç—à–∞ –µ–¥—ã
                            break
                        end
                        tries = tries + 1
                        task.wait(minDelay)
                    end
                end
                eatingLock = false
            end)
        end
    end
end)
 end
-- ========= [ TAB: Heal (Auto-Heal) ‚Äî ULTRA FAST ] =========
 do
 local HealTab = Window:AddTab({ Title = "Heal", Icon = "heart" })
 local TwinTab = Window:AddTab({ Title = "Twin", Icon = "group" })
-- ========= [ Twin Tab - Waypoint System ] =========
local waypoints = {} -- –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∞
local currentWaypointIndex = 0 -- —Ç–µ–∫—É—â–∞—è —Ç–æ—á–∫–∞ –≤ –º–∞—Ä—à—Ä—É—Ç–µ
local isMoving = false
local waypointParts = {} -- –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Ç–æ—á–µ–∫
local waypointCounter = 0 -- —Å—á–µ—Ç—á–∏–∫ –¥–ª—è –Ω—É–º–µ—Ä–∞—Ü–∏–∏ —Ç–æ—á–µ–∫
-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç Gold –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
local builtinGoldRoute = {
    {x = -129.56829833984375, y = -35.22261047363281, z = -147.50111389160156},
    {x = -141.86221313476562, y = -34.531150817871094, z = -170.49496459960938},
    {x = -130.35655212402344, y = -35.000003814697266, z = -175.41566467285156},
    {x = -118.26651000976562, y = -25.52291488647461, z = -193.50579833984375},
    {x = -123.87197875976562, y = -18.976673126220703, z = -197.0014190673828},
    {x = -120.90892028808594, y = -4.446675777435303, z = -201.95697021484375},
    {x = -113.83777618408203, y = -2.373643636703491, z = -210.7565460205078},
    {x = -100.66029357910156, y = -3.004596710205078, z = -219.59669494628906},
    {x = -21.93410301208496, y = -2.953582763671875, z = -254.12278747558594},
    {x = 38.728065490722656, y = -3.000000238418579, z = -277.52154541015625},
    {x = 108.86458587646484, y = -3.0025651454925537, z = -292.30517578125},
    {x = 203.02676391601562, y = -3.41894793510437, z = -232.28846740722656},
    {x = 264.813720703125, y = -2.5988850593566895, z = -111.20118713378906},
    {x = 278.4031066894531, y = -9.265960693359375, z = -85.50374603271484},
    {x = 296.4058532714844, y = -11.558067321777344, z = -49.040008544921875},
    {x = 326.50164794921875, y = -10.536523818969727, z = 8.959395408630371},
    {x = 332.1156311035156, y = -9.817819595336914, z = 18.923500061035156},
    {x = 336.9355773925781, y = -11.27706527709961, z = 27.458898544311523},
    {x = 380.3524475097656, y = -11.155887603759766, z = 107.24105072021484},
    {x = 387.1080322265625, y = -5.6193528175354, z = 120.43907165527344},
    {x = 389.2702941894531, y = -3.229552745819092, z = 124.79077911376953},
    {x = 401.1050720214844, y = -3.000000238418579, z = 151.7855682373047},
    {x = 440.00396728515625, y = -3.000000238418579, z = 220.67701721191406},
    {x = 450.1619873046875, y = 6.334244251251221, z = 230.8787078857422},
    {x = 459.8385009765625, y = 11.8381986618042, z = 231.45297241210938},
    {x = 465.5270080566406, y = 14.897493362426758, z = 214.44729614257812},
    {x = 474.6103820800781, y = 16.810684204101562, z = 194.9015655517578},
    {x = 477.94891357421875, y = 16.62217140197754, z = 179.46051025390625},
    {x = 481.80743408203125, y = 12.902473449707031, z = 164.89736938476562},
    {x = 561.4396362304688, y = 12.546874046325684, z = 208.69895935058594},
    {x = 578.5841064453125, y = 12.333901405334473, z = 216.85423278808594},
    {x = 582.139404296875, y = 12.792741775512695, z = 227.4539337158203},
    {x = 585.4560546875, y = 10.781489372253418, z = 231.70431518554688},
    {x = 594.0337524414062, y = 4.213343620300293, z = 239.4530792236328},
    {x = 604.1375122070312, y = -2.999999761581421, z = 250.0232391357422},
    {x = 624.123046875, y = -2.999999761581421, z = 268.5694885253906},
    {x = 668.998779296875, y = -2.999999761581421, z = 294.7021179199219},
    {x = 733.7117919921875, y = -3.3972246646881104, z = 329.6083984375},
    {x = 748.250732421875, y = -11.345137596130371, z = 334.4342346191406},
    {x = 900.1244506835938, y = -11.178420066833496, z = 400.26300048828125},
    {x = 914.0623779296875, y = -8.450525283813477, z = 406.99127197265625},
    {x = 933.925537109375, y = -7.737545967102051, z = 418.68939208984375},
    {x = 950.6881103515625, y = -0.8310419321060181, z = 427.1104431152344},
    {x = 961.4528198242188, y = 1.5834664106369019, z = 432.3932189941406},
    {x = 985.0768432617188, y = -0.8441474437713623, z = 444.66668701171875},
    {x = 1048.7642822265625, y = -1.0994929075241089, z = 484.2882995605469},
    {x = 1058.753662109375, y = 1.4548687934875488, z = 494.990234375},
    {x = 1078.763916015625, y = 2.470869779586792, z = 516.3895874023438},
    {x = 1100.7767333984375, y = -1.879437804222107, z = 539.1964721679688},
    {x = 1138.4542236328125, y = -3.8031694889068604, z = 566.9718627929688},
    {x = 1162.0042724609375, y = -3.2815163135528564, z = 577.0107421875},
    {x = 1177.813232421875, y = -5.8950605392456055, z = 559.4630737304688},
    {x = 1197.9688720703125, y = -9.240263938903809, z = 541.4131469726562},
    {x = 1212.60595703125, y = -11.539607048034668, z = 529.5204467773438},
    {x = 1229.07861328125, y = -11.422481536865234, z = 544.1000366210938},
    {x = 1239.450439453125, y = -15.105656623840332, z = 561.4984741210938},
    {x = 1247.2216796875, y = -15.777167320251465, z = 580.620361328125},
    {x = 1260.7523193359375, y = -15.49428653717041, z = 594.7858276367188},
    {x = 1278.7086181640625, y = -15.499195098876953, z = 610.2817993164062},
    {x = 1292.0159912109375, y = -16.66520881652832, z = 627.7662963867188},
    {x = 1308.106689453125, y = -15.930222511291504, z = 649.8966064453125},
    {x = 1312.678955078125, y = -15.788735389709473, z = 664.786376953125},
    {x = 1297.7724609375, y = -18.145044326782227, z = 675.9564208984375},
    {x = 1285.5146484375, y = -19.000001907348633, z = 686.0231323242188},
    {x = 1299.7137451171875, y = -17.628585815429688, z = 673.4462890625},
    {x = 1312.54248046875, y = -15.814669609069824, z = 661.1264038085938},
    {x = 1291.6907958984375, y = -16.426298141479492, z = 625.1641845703125},
    {x = 1253.2003173828125, y = -15.506840705871582, z = 589.3141479492188},
    {x = 1240.9598388671875, y = -15.774508476257324, z = 569.4361572265625},
    {x = 1240.2147216796875, y = -15.151000022888184, z = 562.26904296875},
    {x = 1234.7950439453125, y = -12.3682222366333, z = 550.4201049804688},
    {x = 1229.713134765625, y = -11.398438453674316, z = 544.424560546875},
    {x = 1214.361572265625, y = -11.881823539733887, z = 528.5535278320312},
    {x = 1209.773193359375, y = -15.030412673950195, z = 514.1517333984375},
    {x = 1200.9517822265625, y = -15.003508567810059, z = 491.98797607421875},
    {x = 1188.07958984375, y = -15.3378267288208, z = 465.76275634765625},
    {x = 1187.93115234375, y = -15.000550270080566, z = 476.4028015136719},
    {x = 1169.550537109375, y = -15.052278518676758, z = 483.78271484375},
    {x = 1189.3370361328125, y = -15.009140014648438, z = 477.9129943847656},
    {x = 1200.7174072265625, y = -18.286949157714844, z = 474.31982421875},
    {x = 1218.0189208984375, y = -22.70867156982422, z = 467.7663269042969},
    {x = 1235.2257080078125, y = -26.676923751831055, z = 462.85906982421875},
    {x = 1248.2369384765625, y = -25.361867904663086, z = 461.9845275878906},
    {x = 1268.395751953125, y = -27.217039108276367, z = 462.9985656738281},
    {x = 1280.7449951171875, y = -24.464218139648438, z = 457.44683837890625},
    {x = 1292.5189208984375, y = -23.409725189208984, z = 442.7531433105469},
    {x = 1283.271240234375, y = -19.155933380126953, z = 426.595703125},
    {x = 1264.84765625, y = -17.67812156677246, z = 407.66363525390625},
    {x = 1247.692626953125, y = -14.362338066101074, z = 394.6280517578125},
    {x = 1231.53662109375, y = -8.86378002166748, z = 386.81793212890625},
    {x = 1201.5914306640625, y = -3.284789800643921, z = 378.59234619140625},
    {x = 1186.611328125, y = -3.1091649532318115, z = 376.8012390136719},
    {x = 1165.41064453125, y = -6.994202136993408, z = 373.6711730957031},
    {x = 1143.4317626953125, y = -3.6022789478302, z = 361.933837890625},
    {x = 1119.119140625, y = -1.1189583539962769, z = 335.9255065917969},
    {x = 1103.226806640625, y = -2.362618923187256, z = 318.7507629394531},
    {x = 1100.08154296875, y = -3.7762668132781982, z = 314.73370361328125},
    {x = 1090.1005859375, y = -7.0110087394714355, z = 304.326416015625},
    {x = 1082.7301025390625, y = -7.480240345001221, z = 298.037353515625},
    {x = 1070.9156494140625, y = -11.00010871887207, z = 286.6021728515625},
    {x = 973.3635864257812, y = -11.677297592163086, z = 167.4589385986328},
    {x = 869.4829711914062, y = -11.839435577392578, z = 32.75059509277344},
    {x = 851.405029296875, y = -8.91015625, z = 9.244438171386719},
    {x = 835.7401733398438, y = -11.012300491333008, z = -11.12346363067627},
    {x = 778.9214477539062, y = -11.25169563293457, z = -103.43875122070312},
    {x = 769.6591796875, y = -8.322460174560547, z = -120.52954864501953},
    {x = 751.19921875, y = -6.799479961395264, z = -156.984130859375},
    {x = 748.344482421875, y = 5.783438205718994, z = -171.12960815429688},
    {x = 744.3445434570312, y = 7.086217403411865, z = -181.7908172607422},
    {x = 733.5670166015625, y = 6.706731796264648, z = -201.5535430908203},
    {x = 729.513916015625, y = 20.158021926879883, z = -203.82830810546875},
    {x = 721.5972290039062, y = 24.413894653320312, z = -214.86289978027344},
    {x = 722.8731689453125, y = 26.94597053527832, z = -221.25445556640625},
    {x = 727.6812744140625, y = 24.314348220825195, z = -237.2887420654297},
    {x = 730.7249145507812, y = 22.179729461669922, z = -254.37144470214844},
    {x = 727.5706176757812, y = 23.945528030395508, z = -275.77703857421875},
    {x = 722.2711791992188, y = 23.08418083190918, z = -297.9950866699219},
    {x = 713.1417846679688, y = 29.803068161010742, z = -300.4693908691406},
    {x = 701.6953125, y = 33.81864547729492, z = -307.95672607421875},
    {x = 697.6986083984375, y = 41.22053909301758, z = -317.7400207519531},
    {x = 693.4369506835938, y = 45.65463638305664, z = -324.1618347167969},
    {x = 694.9376220703125, y = 54.8935661315918, z = -330.8770446777344},
    {x = 695.78955078125, y = 60.31671142578125, z = -336.8863220214844},
    {x = 692.9326782226562, y = 58.50635528564453, z = -346.15692138671875},
    {x = 689.9964599609375, y = 61.23194885253906, z = -355.8509216308594},
    {x = 688.4291381835938, y = 78.18230438232422, z = -363.5368957519531},
    {x = 687.3242797851562, y = 80.33402252197266, z = -368.3058166503906},
    {x = 686.3289184570312, y = 86.00462341308594, z = -374.7942199707031},
    {x = 682.3263549804688, y = 82.44693756103516, z = -375.65655517578125},
    {x = 677.5304565429688, y = 77.61885070800781, z = -383.29217529296875},
    {x = 669.0115356445312, y = 77.13842010498047, z = -381.9355773925781},
    {x = 662.067138671875, y = 73.54032135009766, z = -380.2914123535156},
    {x = 650.472900390625, y = 65.48123168945312, z = -376.0791931152344},
    {x = 642.4507446289062, y = 52.849552154541016, z = -373.33428955078125},
    {x = 623.2390747070312, y = 51.901126861572266, z = -372.3356018066406},
    {x = 614.4212646484375, y = 50.30735778808594, z = -366.73150634765625},
    {x = 614.1827392578125, y = 34.427711486816406, z = -364.882080078125},
    {x = 609.79443359375, y = 31.651691436767578, z = -364.2350158691406},
    {x = 603.8516235351562, y = 29.772945404052734, z = -362.1249694824219},
    {x = 593.9135131835938, y = 23.5181884765625, z = -359.158447265625},
    {x = 593.8425903320312, y = 20.574039459228516, z = -355.2893981933594},
    {x = 596.79833984375, y = 4.743927955627441, z = -351.4197998046875},
    {x = 600.4877319335938, y = -7.173625469207764, z = -353.9205627441406},
    {x = 611.2588500976562, y = -7.456879138946533, z = -356.85211181640625},
    {x = 620.7041625976562, y = -8.168609619140625, z = -369.0961608886719},
    {x = 627.1510620117188, y = -7.591730117797852, z = -380.6103515625},
    {x = 606.2744750976562, y = -6.558352947235107, z = -380.2583312988281},
    {x = 586.8601684570312, y = -1.5587955713272095, z = -386.1231689453125},
    {x = 573.6012573242188, y = 7.102573394775391, z = -390.1082763671875},
    {x = 559.7066650390625, y = 11.258048057556152, z = -394.8023376464844},
    {x = 552.0530395507812, y = 12.16115665435791, z = -396.95758056640625},
    {x = 536.9421997070312, y = 10.982316970825195, z = -406.867919921875},
    {x = 527.9371948242188, y = 8.392942428588867, z = -414.47528076171875},
    {x = 513.0713500976562, y = 8.450552940368652, z = -427.3144226074219},
    {x = 499.708984375, y = 8.881381034851074, z = -437.4269714355469},
    {x = 491.0977478027344, y = 6.9551520347595215, z = -445.3454284667969},
    {x = 488.0587158203125, y = 3.9695498943328857, z = -448.7771301269531},
    {x = 484.2929992675781, y = 0.16121885180473328, z = -451.806396484375},
    {x = 478.66595458984375, y = -8.627448081970215, z = -457.3094177246094},
    {x = 472.884521484375, y = -11.445146560668945, z = -461.5827941894531},
    {x = 457.36944580078125, y = -11.256119728088379, z = -466.2210998535156},
    {x = 430.7373962402344, y = -11.286386489868164, z = -473.77154541015625},
    {x = 342.97125244140625, y = -11.409958839416504, z = -496.37066650390625},
    {x = 254.72113037109375, y = -11.19923210144043, z = -521.317626953125},
    {x = 211.9926300048828, y = -11.35629940032959, z = -533.3432006835938},
    {x = 195.1652069091797, y = -10.46329116821289, z = -538.0794677734375},
    {x = 182.0066375732422, y = -4.966184616088867, z = -541.7801513671875},
    {x = 164.82322692871094, y = -3.000026226043701, z = -547.04345703125},
    {x = 114.22712707519531, y = -2.999999761581421, z = -552.1817016601562},
    {x = 89.63172912597656, y = -4.02532434463501, z = -558.4008178710938},
    {x = 71.02605438232422, y = -9.492598533630371, z = -563.2534790039062},
    {x = 56.863731384277344, y = -11.2594633102417, z = -566.8308715820312},
    {x = -14.377776145935059, y = -10.556118965148926, z = -582.5537109375},
    {x = -38.07499694824219, y = -8.559871673583984, z = -580.0994873046875},
    {x = -78.65483856201172, y = -3.7704312801361084, z = -583.7802124023438},
    {x = -123.47274017333984, y = -2.551851749420166, z = -594.2467041015625},
    {x = -145.4014434814453, y = 3.680408239364624, z = -595.158447265625},
    {x = -168.30712890625, y = 4.326456069946289, z = -601.8705444335938},
    {x = -192.7735137939453, y = 4.999999523162842, z = -611.7755126953125},
    {x = -211.9346160888672, y = 8.306648254394531, z = -617.1058959960938},
    {x = -221.3321075439453, y = 3.799018383026123, z = -615.52099609375},
    {x = -237.75929260253906, y = 0.8220189809799194, z = -611.2952270507812},
    {x = -259.92718505859375, y = -3.0224196910858154, z = -605.9304809570312},
    {x = -318.577880859375, y = -3.000000238418579, z = -599.2276000976562},
    {x = -329.7488098144531, y = -3.4071309566497803, z = -597.8574829101562},
    {x = -343.7009582519531, y = -6.141291618347168, z = -596.1718139648438},
    {x = -359.9581604003906, y = -3.227088451385498, z = -594.2072143554688},
    {x = -385.11676025390625, y = -5.108880043029785, z = -585.2644653320312},
    {x = -400.9820251464844, y = -9.703919410705566, z = -576.2993774414062},
    {x = -407.58367919921875, y = -9.867775917053223, z = -580.1909790039062},
    {x = -406.1993408203125, y = -27.336763381958008, z = -579.1751708984375},
    {x = -406.8777160644531, y = -31.64786720275879, z = -568.4539794921875},
    {x = -406.9662170410156, y = -35.43171310424805, z = -559.7322998046875},
    {x = -404.8290100097656, y = -39.23634338378906, z = -552.3197021484375},
    {x = -389.2830810546875, y = -43.091617584228516, z = -555.8037719726562},
    {x = -378.5360107421875, y = -43.65585708618164, z = -559.1858520507812},
    {x = -365.443359375, y = -44.674076080322266, z = -562.455810546875},
    {x = -352.26556396484375, y = -47.000003814697266, z = -564.7522583007812},
    {x = -317.4266357421875, y = -48.51443862915039, z = -568.1212158203125},
    {x = -313.6121826171875, y = -50.270267486572266, z = -569.1723022460938},
    {x = -303.5955505371094, y = -56.57162857055664, z = -571.641357421875},
    {x = -283.3916015625, y = -56.993473052978516, z = -565.000244140625},
    {x = -271.662841796875, y = -55.909263610839844, z = -557.344482421875},
    {x = -260.2622985839844, y = -55.34138107299805, z = -552.9071655273438},
    {x = -247.3360595703125, y = -57.94968795776367, z = -548.0552978515625},
    {x = -232.32949829101562, y = -59.61372375488281, z = -543.0667114257812},
    {x = -212.4950714111328, y = -60.0970458984375, z = -536.9702758789062},
    {x = -202.5631866455078, y = -60.60017395019531, z = -538.9254150390625},
    {x = -189.23243713378906, y = -63.08535385131836, z = -543.9926147460938},
    {x = -178.59388732910156, y = -63.17445755004883, z = -548.4803466796875},
    {x = -175.08787536621094, y = -63.19453811645508, z = -564.5831298828125},
    {x = -171.60269165039062, y = -63.36654281616211, z = -583.9100952148438},
    {x = -173.01107788085938, y = -64.7457046508789, z = -599.2689208984375},
    {x = -180.91273498535156, y = -63.16688919067383, z = -612.2637939453125},
    {x = -194.65122985839844, y = -63.305908203125, z = -619.4119873046875},
    {x = -203.44180297851562, y = -61.38168716430664, z = -623.992431640625},
    {x = -193.7185821533203, y = -63.270809173583984, z = -619.30029296875},
    {x = -174.00245666503906, y = -63.81976318359375, z = -609.1007690429688},
    {x = -172.8279266357422, y = -63.23074722290039, z = -584.897705078125},
    {x = -174.4666290283203, y = -63.0658073425293, z = -560.2780151367188},
    {x = -168.99374389648438, y = -63.34800720214844, z = -536.37353515625},
    {x = -166.2401885986328, y = -63.145729064941406, z = -519.341552734375},
    {x = -168.0135498046875, y = -63.08095932006836, z = -501.67401123046875},
    {x = -172.4540252685547, y = -63.98564147949219, z = -491.1587219238281},
    {x = -177.45558166503906, y = -67.14752197265625, z = -480.24810791015625},
    {x = -182.05130004882812, y = -67.05435180664062, z = -464.7932434082031},
    {x = -179.1490020751953, y = -67.75240325927734, z = -456.7946472167969},
    {x = -175.91943359375, y = -70.085693359375, z = -452.21160888671875},
    {x = -170.08937072753906, y = -73.13060760498047, z = -450.62109375},
    {x = -165.30690002441406, y = -98.12091827392578, z = -447.197998046875},
    {x = -162.09361267089844, y = -97.89187622070312, z = -469.7731628417969},
    {x = -161.584228515625, y = -94.10320281982422, z = -475.18701171875},
    {x = -159.75314331054688, y = -99.00003051757812, z = -485.72271728515625},
    {x = -158.49024963378906, y = -99.81852722167969, z = -497.3612060546875},
    {x = -165.23826599121094, y = -99.38477325439453, z = -502.3186340332031},
    {x = -170.06565856933594, y = -99.6581039428711, z = -504.11834716796875},
    {x = -181.56053161621094, y = -103.00000762939453, z = -505.3813171386719},
    {x = -190.8207244873047, y = -103.19381713867188, z = -505.2960205078125},
    {x = -195.1558074951172, y = -103.33592224121094, z = -494.3262939453125},
    {x = -191.4733428955078, y = -103.20850372314453, z = -476.3677978515625},
    {x = -189.41043090820312, y = -103.67249298095703, z = -461.60321044921875},
    {x = -192.52392578125, y = -103.00260925292969, z = -480.56365966796875},
    {x = -194.34951782226562, y = -103.30886840820312, z = -494.4515075683594},
    {x = -192.0078582763672, y = -103.15267944335938, z = -504.48663330078125},
    {x = -182.36306762695312, y = -103.00000762939453, z = -506.50653076171875},
    {x = -172.78195190429688, y = -100.92007446289062, z = -505.5235900878906},
    {x = -168.4810333251953, y = -99.09101104736328, z = -504.09014892578125},
    {x = -162.96942138671875, y = -100.02947998046875, z = -501.34283447265625},
    {x = -158.2447509765625, y = -99.91663360595703, z = -497.60491943359375},
    {x = -145.518798828125, y = -93.725341796875, z = -497.9165954589844},
    {x = -131.75880432128906, y = -103.00000762939453, z = -492.5538024902344},
    {x = -110.40345001220703, y = -103.00000762939453, z = -481.6013488769531},
    {x = -83.18221282958984, y = -103.00000762939453, z = -469.64202880859375},
    {x = -71.22595977783203, y = -102.22447204589844, z = -464.3931579589844},
    {x = -66.92938995361328, y = -100.92153930664062, z = -461.3918762207031},
    {x = -52.94049835205078, y = -103.00000762939453, z = -455.2219543457031},
    {x = -21.375011444091797, y = -103.00000762939453, z = -439.6902770996094},
    {x = 1.9527134895324707, y = -103.00000762939453, z = -424.9960021972656},
    {x = 15.543831825256348, y = -100.72904968261719, z = -411.69482421875},
    {x = 19.691076278686523, y = -99.00000762939453, z = -395.08160400390625},
    {x = 24.855327606201172, y = -99.09797668457031, z = -379.6018981933594},
    {x = 31.046422958374023, y = -99.19686889648438, z = -370.3347473144531},
    {x = 45.7510986328125, y = -99.144775390625, z = -359.3526916503906},
    {x = 31.738569259643555, y = -99.14901733398438, z = -366.44793701171875},
    {x = 24.99461555480957, y = -99.11446380615234, z = -379.28656005859375},
    {x = 19.168006896972656, y = -99.00000762939453, z = -398.1811218261719},
    {x = 14.652486801147461, y = -101.62277221679688, z = -414.0011291503906},
    {x = 4.876657485961914, y = -103.00000762939453, z = -420.7671203613281},
    {x = -41.87376022338867, y = -103.00000762939453, z = -396.70635986328125},
    {x = -49.79264450073242, y = -104.24640655517578, z = -393.0944519042969},
    {x = -58.5228385925293, y = -107.61671447753906, z = -386.53662109375},
    {x = -79.03544616699219, y = -107.50885772705078, z = -370.5804138183594},
    {x = -87.53269958496094, y = -103.16315460205078, z = -363.75830078125},
    {x = -103.74556732177734, y = -103.00000762939453, z = -341.8085632324219},
    {x = -108.37995147705078, y = -99.65220642089844, z = -326.2837829589844},
    {x = -111.67689514160156, y = -95.4335708618164, z = -312.5328063964844},
    {x = -115.81652069091797, y = -92.07952117919922, z = -296.7477111816406},
    {x = -128.49635314941406, y = -87.83174133300781, z = -278.17822265625},
    {x = -141.57322692871094, y = -84.4342041015625, z = -284.78778076171875},
    {x = -152.94468688964844, y = -83.1136245727539, z = -291.4146423339844},
    {x = -164.65066528320312, y = -81.0479507446289, z = -310.83697509765625},
    {x = -168.26766967773438, y = -76.80935668945312, z = -316.60418701171875},
    {x = -174.70388793945312, y = -77.88162231445312, z = -321.4527893066406},
    {x = -182.0706024169922, y = -77.69354248046875, z = -318.4833679199219},
    {x = -186.22586059570312, y = -77.42530059814453, z = -316.7192077636719},
    {x = -196.0566864013672, y = -76.97328186035156, z = -312.1932678222656},
    {x = -201.39181518554688, y = -74.82676696777344, z = -309.2345275878906},
    {x = -210.27027893066406, y = -76.97261810302734, z = -307.68719482421875},
    {x = -217.4720916748047, y = -77.71463012695312, z = -305.25970458984375},
    {x = -228.3420867919922, y = -79.33795928955078, z = -307.4018249511719},
    {x = -243.87411499023438, y = -77.86145782470703, z = -322.6467590332031},
    {x = -257.770263671875, y = -76.21910095214844, z = -332.27642822265625},
    {x = -269.7618103027344, y = -78.2446517944336, z = -343.1680603027344},
    {x = -276.4269714355469, y = -76.65945434570312, z = -348.35772705078125},
    {x = -293.6618347167969, y = -76.68534088134766, z = -361.7176513671875},
    {x = -303.8804016113281, y = -79, z = -364.6649169921875},
    {x = -305.4456787109375, y = -75.37559509277344, z = -351.7974548339844},
    {x = -303.4118957519531, y = -76.55696868896484, z = -340.53271484375},
    {x = -304.78106689453125, y = -76.0450210571289, z = -330.4904479980469},
    {x = -309.76824951171875, y = -74.245361328125, z = -314.4122009277344},
    {x = -312.56689453125, y = -79.00000762939453, z = -291.7274169921875},
    {x = -307.7578430175781, y = -79.00000762939453, z = -273.93603515625},
    {x = -305.8480224609375, y = -76.81156158447266, z = -260.136474609375},
    {x = -304.9730224609375, y = -76.54286193847656, z = -248.39056396484375},
    {x = -299.1598205566406, y = -78.38851165771484, z = -237.78890991210938},
    {x = -293.65496826171875, y = -81.07450866699219, z = -226.7312469482422},
    {x = -289.03924560546875, y = -83.11856842041016, z = -217.79156494140625},
    {x = -281.3747253417969, y = -87.01654815673828, z = -208.17002868652344},
    {x = -273.1914367675781, y = -84.73583984375, z = -208.89451599121094},
    {x = -265.1388244628906, y = -85.7321548461914, z = -211.45013427734375},
    {x = -256.6943054199219, y = -84.57914733886719, z = -220.13626098632812},
    {x = -252.2921905517578, y = -83.03993225097656, z = -227.87974548339844},
    {x = -244.26382446289062, y = -85.63243103027344, z = -234.536376953125},
    {x = -230.83419799804688, y = -89.15840148925781, z = -217.60086059570312},
    {x = -239.3577423095703, y = -95.69486236572266, z = -202.23643493652344},
    {x = -230.6133575439453, y = -92.49395751953125, z = -186.65171813964844},
    {x = -230.350341796875, y = -85.88069915771484, z = -176.23037719726562},
    {x = -236.15383911132812, y = -95.00634002685547, z = -162.552490234375},
    {x = -248.16748046875, y = -95.17884826660156, z = -144.4700469970703},
    {x = -261.8931884765625, y = -95.0009994506836, z = -126.77779388427734},
    {x = -275.6937561035156, y = -94.26641082763672, z = -110.31201934814453},
    {x = -279.5300598144531, y = -92.88082885742188, z = -105.80647277832031},
    {x = -286.9383239746094, y = -95.07057189941406, z = -97.1055679321289},
    {x = -300.8383483886719, y = -95.11485290527344, z = -80.78033447265625},
    {x = -312.1708068847656, y = -94.98665618896484, z = -67.47063446044922},
    {x = -326.95294189453125, y = -91.81903839111328, z = -55.531673431396484},
    {x = -334.50250244140625, y = -91.01563262939453, z = -52.39216613769531},
    {x = -332.1968688964844, y = -91.01563262939453, z = -59.42139434814453},
    {x = -329.5065002441406, y = -91.01447296142578, z = -76.53321075439453},
    {x = -326.970458984375, y = -89.10663604736328, z = -88.4198226928711},
    {x = -325.5810546875, y = -86.59346008300781, z = -98.71652221679688},
    {x = -325.236083984375, y = -85.63536834716797, z = -102.76227569580078},
    {x = -319.91351318359375, y = -84.40186309814453, z = -111.87030029296875},
    {x = -314.8059387207031, y = -82.09734344482422, z = -110.17792510986328},
    {x = -308.879150390625, y = -78.37649536132812, z = -105.8426284790039},
    {x = -304.2096862792969, y = -76.16535186767578, z = -98.2216567993164},
    {x = -292.8028259277344, y = -73.11939239501953, z = -92.99549865722656},
    {x = -283.0301513671875, y = -71.04085540771484, z = -88.10002899169922},
    {x = -272.0711364746094, y = -69.8878173828125, z = -83.84199523925781},
    {x = -258.71856689453125, y = -71.1827163696289, z = -78.8860855102539},
    {x = -251.94439697265625, y = -71.34781646728516, z = -77.43161010742188},
    {x = -243.69964599609375, y = -71.65660858154297, z = -77.79203033447266},
    {x = -261.6610107421875, y = -71.06755065917969, z = -79.85997772216797},
    {x = -269.8838806152344, y = -74.03201293945312, z = -76.7806396484375},
    {x = -270.68780517578125, y = -79.19151306152344, z = -72.70323181152344},
    {x = -269.6991271972656, y = -95.16236114501953, z = -71.49573516845703},
    {x = -266.48736572265625, y = -95.80394744873047, z = -77.34966278076172},
    {x = -251.5920867919922, y = -95.21944427490234, z = -96.1654281616211},
    {x = -238.51171875, y = -89.44731903076172, z = -95.61491394042969},
    {x = -234.89039611816406, y = -86.22500610351562, z = -96.13196563720703},
    {x = -229.45335388183594, y = -87.01944732666016, z = -96.44860076904297},
    {x = -220.97332763671875, y = -87.5638656616211, z = -97.12494659423828},
    {x = -214.85533142089844, y = -90.41935729980469, z = -97.39787292480469},
    {x = -201.1543426513672, y = -95.13320922851562, z = -98.37996673583984},
    {x = -170.35804748535156, y = -95.26637268066406, z = -82.7913589477539},
    {x = -147.90182495117188, y = -95.13646697998047, z = -70.34854125976562},
    {x = -139.11180114746094, y = -91.68093872070312, z = -66.44129943847656},
    {x = -127.94962310791016, y = -90.2923583984375, z = -60.063812255859375},
    {x = -106.2647933959961, y = -92.00776672363281, z = -48.403926849365234},
    {x = -87.81383514404297, y = -95.00000762939453, z = -40.29542541503906},
    {x = -72.7607421875, y = -91.97103118896484, z = -32.958580017089844},
    {x = -48.42793273925781, y = -92.19813537597656, z = -16.96240997314453},
    {x = -40.44548416137695, y = -95.10565948486328, z = -10.845544815063477},
    {x = -27.721599578857422, y = -93.49920654296875, z = -4.3990912437438965},
    {x = -35.97213363647461, y = -95.08049011230469, z = -4.8122358322143555},
    {x = -48.0507698059082, y = -90.83981323242188, z = -15.624031066894531},
    {x = -56.12240219116211, y = -95.14710235595703, z = -29.013336181640625},
    {x = -66.01219177246094, y = -95.14704895019531, z = -44.82793426513672},
    {x = -67.89385223388672, y = -91.23660278320312, z = -50.545501708984375},
    {x = -69.35627746582031, y = -86.3951644897461, z = -65.06657409667969},
    {x = -67.26177978515625, y = -79.90725708007812, z = -75.36021423339844},
    {x = -60.256263732910156, y = -76.48812866210938, z = -79.96478271484375},
    {x = -49.94966506958008, y = -75.01174926757812, z = -72.84368896484375},
    {x = -32.823204040527344, y = -75.00389099121094, z = -58.66859436035156},
    {x = -27.420637130737305, y = -75.6839599609375, z = -44.96635437011719},
    {x = -11.470573425292969, y = -75.1028823852539, z = -37.01375961303711},
    {x = 8.78156566619873, y = -75.00000762939453, z = -36.26106262207031},
    {x = 10.149417877197266, y = -75.00039672851562, z = -49.52260208129883},
    {x = 10.03902816772461, y = -74.15621948242188, z = -63.77361297607422},
    {x = 7.781325817108154, y = -78.55313110351562, z = -72.1444320678711},
    {x = 4.275975227355957, y = -76.9732894897461, z = -93.19520568847656},
    {x = 5.594533443450928, y = -74.34822845458984, z = -100.79273223876953},
    {x = 19.013851165771484, y = -70.9583740234375, z = -110.26055908203125},
    {x = 30.96294593811035, y = -75.00000762939453, z = -118.4263916015625},
    {x = 51.96305465698242, y = -75.03787231445312, z = -131.4608154296875},
    {x = 73.71959686279297, y = -75.18910217285156, z = -132.05783081054688},
    {x = 79.36019897460938, y = -72.1117935180664, z = -118.26094818115234},
    {x = 83.45476531982422, y = -65.52386474609375, z = -97.54019165039062},
    {x = 83.02183532714844, y = -60.77535629272461, z = -85.90902709960938},
    {x = 79.51303100585938, y = -56.70628356933594, z = -74.33832550048828},
    {x = 73.1015396118164, y = -50.250064849853516, z = -62.45172119140625},
    {x = 61.841453552246094, y = -44.54532241821289, z = -51.47279739379883},
    {x = 52.63863754272461, y = -40.020233154296875, z = -49.939476013183594},
    {x = 42.32438659667969, y = -35.968994140625, z = -54.8618278503418},
    {x = 28.121538162231445, y = -35.074459075927734, z = -62.46964645385742},
    {x = 9.49305248260498, y = -35.000003814697266, z = -71.72179412841797},
    {x = -7.210909843444824, y = -36.2317008972168, z = -80.17207336425781},
    {x = -27.83277702331543, y = -34.97145080566406, z = -90.5769271850586},
    {x = -48.509403228759766, y = -35.006263732910156, z = -102.19796752929688},
    {x = -75.86226654052734, y = -35.024784088134766, z = -128.16819763183594},
    {x = -108.71420288085938, y = -35.000003814697266, z = -143.89247131347656}
}
local builtinGoldRouteWaitInfo = {
    [2] = {isWaitWaypoint = true, waitTime = 1.6},
    [4] = {isWaitWaypoint = true, waitTime = 1.8},
    [25] = {isWaitWaypoint = true, waitTime = 1.5},
    [29] = {isWaitWaypoint = true, waitTime = 1.8},
    [64] = {isWaitWaypoint = true, waitTime = 1.8},
    [70] = {isWaitWaypoint = true, waitTime = 0.2},
    [76] = {isWaitWaypoint = true, waitTime = 1.8},
    [78] = {isWaitWaypoint = true, waitTime = 1.8},
    [112] = {isWaitWaypoint = true, waitTime = 1.8},
    [130] = {isWaitWaypoint = true, waitTime = 1.6},
    [144] = {isWaitWaypoint = true, waitTime = 1.5},
    [146] = {isWaitWaypoint = true, waitTime = 1.8},
    [180] = {isWaitWaypoint = true, waitTime = 1.8},
    [196] = {isWaitWaypoint = true, waitTime = 1.8},
    [216] = {isWaitWaypoint = true, waitTime = 1.8},
    [241] = {isWaitWaypoint = true, waitTime = 1.8},
    [263] = {isWaitWaypoint = true, waitTime = 1.8},
    [265] = {isWaitWaypoint = true, waitTime = 0.9},
    [296] = {isWaitWaypoint = true, waitTime = 1.4},
    [313] = {isWaitWaypoint = true, waitTime = 1.6},
    [327] = {isWaitWaypoint = true, waitTime = 1.6},
    [342] = {isWaitWaypoint = true, waitTime = 1.8},
    [364] = {isWaitWaypoint = true, waitTime = 1.8},
    [381] = {isWaitWaypoint = true, waitTime = 1},
}
local startStopBtn = nil -- –æ–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞—Ä–∞–Ω–µ–µ
-- –ü–æ–ª–∑—É–Ω–æ–∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–≤–∏–∂–µ–Ω–∏—è
local moveSpeed = TwinTab:CreateSlider("move_speed", { Title = "Move Speed", Min = 5, Max = 50, Rounding = 0, Default = 21 })
-- –ü–æ–ª–∑—É–Ω–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è wait waypoint
local waitTimeSlider = TwinTab:CreateSlider("wait_time", { Title = "Wait Waypoint Time (seconds)", Min = 0.1, Max = 10, Rounding = 1, Default = 3 })
local defaultWaitTime = 3
-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
local pauseTime = 0.01
-- ===== BV helpers + –∞–Ω—Ç–∏—Ñ–ª–∞–≥ (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ —Å—é–¥–∞ –¥–ª—è Twin) =====
local RS = RunService
local function ensureRoot() local ch=plr.Character return ch and ch:FindFirstChild("HumanoidRootPart") or nil end
local function clearBV(rp) for _,o in ipairs(rp:GetChildren()) do if o:IsA("BodyVelocity") then o:Destroy() end end end
local function makeBV(rootPart) clearBV(rootPart); local bv=Instance.new("BodyVelocity"); bv.MaxForce=Vector3.new(1e9,1e9,1e9); bv.Velocity=Vector3.new(); bv.Parent=rootPart; return bv end
local BV = {
    stopTol = 0.8,
    baseSpeed = 18.0,
    accel = 28.0,
    segTimeout = 6.0,
    noMoveTimeout = 1.0,
    strafeSpeed = 12.0,
    wallProbeLen = 7.0,
    wallProbeHeight = 2.4,
    jerkAbort = 9.0
}
local rayParams = RaycastParams.new(); rayParams.FilterType = Enum.RaycastFilterType.Exclude; rayParams.FilterDescendantsInstances = { plr.Character }
local function wallAhead(pos, dir)
    local origin = pos + Vector3.new(0, BV.wallProbeHeight, 0)
    local hit = workspace:Raycast(origin, Vector3.new(dir.X,0,dir.Z).Unit * BV.wallProbeLen, rayParams)
    if not hit then return false end
    return (hit.Normal.Y or 0) < 0.55
end
local function moveDirectToPos(targetPos)
    local rp = ensureRoot()
    if not rp then 
        return false 
    end
    local bv = makeBV(rp)
    local maxSpeed = moveSpeed.Value
    local startT = tick()
    local timeout = 60 -- —É–≤–µ–ª–∏—á–∏–º —Ç–∞–π–º–∞—É—Ç –¥–æ 60 —Å–µ–∫—É–Ω–¥
    local lastDist = math.huge
    local stuckTime = 0
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –≤ –≤–æ–∑–¥—É—Ö–µ
    local isAirTarget = targetPos.Y > (rp.Position.Y + 10)
    -- –î–ª—è –ø–æ–ª–µ—Ç–∞ –Ω—É–∂–Ω–∞ –±–æ–ª—å—à–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å–∏–ª–∞
    if isAirTarget then
        bv.MaxForce = Vector3.new(1e9, 1e9, 1e9)
    end
    -- –û—Ç–∫–ª—é—á–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
    local playerGui = plr:FindFirstChild("PlayerGui")
    if playerGui then
        for _, obj in ipairs(playerGui:GetChildren()) do
            if obj:IsA("ScreenGui") and (obj.Name:find("Tween") or obj.Name:find("Move") or obj.Name:find("Panel") or obj.Name:find("ESP")) then
                obj.Enabled = false
            end
        end
    end
    -- –¢–∞–∫–∂–µ –æ—Ç–∫–ª—é—á–∞–µ–º ESP –ø–∞–Ω–µ–ª–∏ –≤ workspace (–±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ ESP)
    for _, obj in ipairs(workspace:GetChildren()) do
        if obj:IsA("Model") then
            for _, child in ipairs(obj:GetDescendants()) do
                if child:IsA("BillboardGui") and (child.Name:find("ESP") or child.Name:find("GODSET")) then
                    child.Enabled = false
                end
            end
        end
    end
    while rp.Parent and (tick() - startT) < timeout do
        local cur = rp.Position
        local toTarget = targetPos - cur
        local dist = toTarget.Magnitude
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ
        if dist >= lastDist then
            stuckTime = stuckTime + 1
            if stuckTime > 30 then -- –µ—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ 30 –∫–∞–¥—Ä–æ–≤
                -- –ü–æ–ø—Ä–æ–±—É–µ–º –≤—ã—Ä–≤–∞—Ç—å—Å—è –∏–∑ –∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏—è
                bv.Velocity = Vector3.new(math.random(-10,10), 20, math.random(-10,10))
                RS.Heartbeat:Wait()
                stuckTime = 0
            end
        else
            stuckTime = 0
        end
        lastDist = dist
        -- –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ —Ç–æ—á–∫–∏ - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
        if dist <= 1.5 then -- —É–º–µ–Ω—å—à–∏–º —Ä–∞–¥–∏—É—Å –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–ø–∞–¥–∞–Ω–∏—è
            bv:Destroy()
            return true
        end
        -- –î–≤–∏–∂–µ–Ω–∏–µ –ø—Ä—è–º–æ –∫ —Ü–µ–ª–∏
        local dir = toTarget.Unit
        -- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø–æ–ª–∑—É–Ω–∫–∞
        local actualSpeed = maxSpeed
        -- –ï—Å–ª–∏ —Ç–æ—á–∫–∞ –≤ –≤–æ–∑–¥—É—Ö–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∂–∏–º –ø–æ–ª–µ—Ç–∞
        if isAirTarget then
            -- –°–∏–ª—å–Ω–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –¥–ª—è –ø–æ–ª–µ—Ç–∞
            local verticalForce = math.max(0.5, (targetPos.Y - cur.Y) / dist)
            dir = Vector3.new(dir.X, verticalForce, dir.Z).Unit
            bv.Velocity = dir * actualSpeed
        else
            -- –û–±—ã—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∑–µ–º–ª–µ
            bv.Velocity = dir * actualSpeed
        end
        RS.Heartbeat:Wait()
    end
    if bv then bv:Destroy() end
    return false
end
local function createWaypointVisual(position, index)
    -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é —Ç–æ—á–∫–∏ (–∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π 1x1x1)
    local part = Instance.new("Part")
    part.Size = Vector3.new(1, 1, 1) -- –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ 1x1x1
    part.Position = position + Vector3.new(0, 0.5, 0) -- –Ω–∞ –≤—ã—Å–æ—Ç–µ 0.5 studs
    part.Anchored = true
    part.CanCollide = false
    part.BrickColor = BrickColor.new("Bright orange")
    part.Material = Enum.Material.Neon
    part.Name = "GMBT_Waypoint_" .. index
    -- –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–¥–ø–∏—Å—å —Å –Ω–æ–º–µ—Ä–æ–º (—Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º–æ—Å—Ç—å –Ω–∞ –±–ª–∏–∑–∫–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏)
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 80, 0, 40)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.MaxDistance = 100 -- –≤–∏–¥–∏–º–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ 100 studs
    billboard.Parent = part
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = tostring(index)
    label.TextColor3 = Color3.new(1, 1, 1)
    label.TextStrokeTransparency = 0
    label.TextScaled = true
    label.Font = Enum.Font.SourceSansBold
    label.Parent = billboard
    part.Parent = workspace
    return part
end
local function createWaitWaypointVisual(position, index, waitTime)
    -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é wait waypoint (–∫—Ä—É–≥–ª–æ–π, –¥—Ä—É–≥–æ–≥–æ —Ü–≤–µ—Ç–∞)
    local part = Instance.new("Part")
    part.Size = Vector3.new(2, 0.5, 2) -- –∫—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞ 2x0.5x2
    part.Position = position + Vector3.new(0, 0.5, 0) -- –Ω–∞ –≤—ã—Å–æ—Ç–µ 0.5 studs
    part.Anchored = true
    part.CanCollide = false
    part.BrickColor = BrickColor.new("Bright blue") -- —Å–∏–Ω–∏–π —Ü–≤–µ—Ç –¥–ª—è wait waypoint
    part.Material = Enum.Material.Neon
    part.Name = "GMBT_WaitWaypoint_" .. index
    -- –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–¥–ø–∏—Å—å —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ–∂–∏–¥–∞–Ω–∏—è
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.MaxDistance = 100 -- –≤–∏–¥–∏–º–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ 100 studs
    billboard.Parent = part
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = tostring(index) .. " (" .. waitTime .. "s)"
    label.TextColor3 = Color3.new(0, 1, 1) -- –≥–æ–ª—É–±–æ–π —Ç–µ–∫—Å—Ç
    label.TextStrokeTransparency = 0
    label.TextScaled = true
    label.Font = Enum.Font.SourceSansBold
    label.Parent = billboard
    part.Parent = workspace
    return part
end
local function updateWaypointVisual(currentIndex)
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞ –≤—Å–µ—Ö —Ç–æ—á–µ–∫ –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ç–µ–∫—É—â–µ–π
    for i, waypoint in ipairs(waypoints) do
        if waypoint.visual then
            if i == currentIndex then
                -- –¢–µ–∫—É—â–∞—è —Ç–æ—á–∫–∞ - –∑–µ–ª–µ–Ω–∞—è
                waypoint.visual.BrickColor = BrickColor.new("Bright green")
                -- –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–¥–ø–∏—Å—å
                local billboard = waypoint.visual:FindFirstChild("BillboardGui")
                if billboard then
                    local label = billboard:FindFirstChild("TextLabel")
                    if label then
                        label.Text = "‚ñ∫ " .. i .. " ‚óÑ"
                        label.TextColor3 = Color3.new(0, 255, 0)
                    end
                end
            else
                -- –ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ - —Å–µ—Ä—ã–µ, –±—É–¥—É—â–∏–µ - –æ—Ä–∞–Ω–∂–µ–≤—ã–µ
                if i < currentIndex then
                    waypoint.visual.BrickColor = BrickColor.new("Medium stone grey")
                else
                    waypoint.visual.BrickColor = BrickColor.new("Bright orange")
                end
                -- –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–¥–ø–∏—Å—å
                local billboard = waypoint.visual:FindFirstChild("BillboardGui")
                if billboard then
                    local label = billboard:FindFirstChild("TextLabel")
                    if label then
                        label.Text = tostring(i)
                        label.TextColor3 = Color3.new(1, 1, 1)
                    end
                end
            end
        end
    end
end
local function clearWaypointVisuals()
    for _, part in ipairs(waypointParts) do
        if part and part.Parent then
            part:Destroy()
        end
    end
    waypointParts = {}
end
local addWaypointBtn = TwinTab:CreateButton({
    Title = "Add Waypoint (Current Position)",
    Callback = function()
        if root and root.Parent then
            waypointCounter = waypointCounter + 1
            local waypointData = {
                position = root.Position,
                index = waypointCounter,
                visual = nil
            }
            table.insert(waypoints, waypointData)
            -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é
            waypointData.visual = createWaypointVisual(waypointData.position, waypointData.index)
            table.insert(waypointParts, waypointData.visual)
            Library:Notify{ Title = "Twin", Content = "Waypoint " .. waypointCounter .. " added", Duration = 3 }
        else
            Library:Notify{ Title = "Twin", Content = "Character not found", Duration = 3 }
        end
    end
})
local addWaitWaypointBtn = TwinTab:CreateButton({
    Title = "Add Wait Waypoint (Current Position)",
    Callback = function()
        if root and root.Parent then
            waypointCounter = waypointCounter + 1
            local waypointData = {
                position = root.Position,
                index = waypointCounter,
                visual = nil,
                waitTime = waitTimeSlider.Value, -- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–æ–ª–∑—É–Ω–∫–∞
                isWaitWaypoint = true
            }
            table.insert(waypoints, waypointData)
            -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é (–¥—Ä—É–≥–æ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è wait waypoint)
            waypointData.visual = createWaitWaypointVisual(waypointData.position, waypointData.index, waypointData.waitTime)
            table.insert(waypointParts, waypointData.visual)
            Library:Notify{ Title = "Twin", Content = "Wait Waypoint " .. waypointCounter .. " added (" .. waypointData.waitTime .. "s)", Duration = 3 }
        else
            Library:Notify{ Title = "Twin", Content = "Character not found", Duration = 3 }
        end
    end
})
startStopBtn = TwinTab:CreateButton({
    Title = "Start Route",
    Callback = function()
        if #waypoints == 0 then
            Library:Notify{ Title = "Twin", Content = "No waypoints added", Duration = 3 }
            return
        end
        if isMoving then
            isMoving = false
            if startStopBtn then startStopBtn:SetTitle("Start Route") end
            Library:Notify{ Title = "Twin", Content = "Route stopped", Duration = 3 }
            -- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ - —É–¥–∞–ª—è–µ–º BodyVelocity
            local rp = ensureRoot()
            if rp then
                for _, obj in ipairs(rp:GetChildren()) do
                    if obj:IsA("BodyVelocity") then
                        obj:Destroy()
                    end
                end
            end
        else
            isMoving = true
            currentWaypointIndex = 1 -- –Ω–∞—á–∏–Ω–∞–µ–º —Å –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏
            if startStopBtn then startStopBtn:SetTitle("Stop Route") end
            Library:Notify{ Title = "Twin", Content = "Starting route from " .. currentWaypointIndex, Duration = 3 }
            task.spawn(function()
                while isMoving do
                    if #waypoints == 0 then
                        isMoving = false
                        if startStopBtn then startStopBtn:SetTitle("Start Route") end
                        break
                    end
                    local currentWaypoint = waypoints[currentWaypointIndex]
                    if not currentWaypoint then
                        isMoving = false
                        if startStopBtn then startStopBtn:SetTitle("Start Route") end
                        break
                    end
                    -- –î–≤–∏–≥–∞–µ–º—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ
                    -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–∏
                    updateWaypointVisual(currentWaypointIndex)
                    local success = moveDirectToPos(currentWaypoint.position)
                    if success then
                        Library:Notify{ Title = "Twin", Content = "‚úì Reached " .. currentWaypointIndex .. "/" .. #waypoints, Duration = 1 }
                        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç—Ç–æ wait waypoint
                        if currentWaypoint.isWaitWaypoint and currentWaypoint.waitTime then
                            Library:Notify{ Title = "Twin", Content = "‚è∏ Waiting " .. currentWaypoint.waitTime .. "s at waypoint " .. currentWaypointIndex, Duration = currentWaypoint.waitTime + 1 }
                            task.wait(currentWaypoint.waitTime)
                        end
                        -- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–µ
                        currentWaypointIndex = currentWaypointIndex + 1
                        -- –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∞, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
                        if currentWaypointIndex > #waypoints then
                            currentWaypointIndex = 1
                            Library:Notify{ Title = "Twin", Content = "üîÑ Route completed! Restarting from 1", Duration = 3 }
                        end
                        -- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
                        task.wait(pauseTime)
                    else
                        Library:Notify{ Title = "Twin", Content = "‚ö† Failed " .. currentWaypointIndex .. " - Retrying", Duration = 2 }
                        task.wait(1) -- —É–≤–µ–ª–∏—á–∏–º –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
                    end
                end
            end)
        end
    end
})
local clearWaypointBtn = TwinTab:CreateButton({
    Title = "Clear All Waypoints",
    Callback = function()
        waypoints = {}
        currentWaypointIndex = 0
        isMoving = false
        if startStopBtn then startStopBtn:SetTitle("Start Route") end
        clearWaypointVisuals()
        waypointCounter = 0 -- —Å–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞
        Library:Notify{ Title = "Twin", Content = "All waypoints cleared and counter reset", Duration = 3 }
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏
local removeLastBtn = TwinTab:CreateButton({
    Title = "Remove Last Waypoint",
    Callback = function()
        if #waypoints > 0 then
            local lastWaypoint = table.remove(waypoints)
            if lastWaypoint and lastWaypoint.visual then
                lastWaypoint.visual:Destroy()
                -- –£–¥–∞–ª—è–µ–º –∏–∑ waypointParts
                for i, part in ipairs(waypointParts) do
                    if part == lastWaypoint.visual then
                        table.remove(waypointParts, i)
                        break
                    end
                end
            end
            -- –ü–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ç–æ—á–∫–∏
            for i, waypoint in ipairs(waypoints) do
                waypoint.index = i
                if waypoint.visual then
                    waypoint.visual.Name = "GMBT_Waypoint_" .. i
                    -- –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–¥–ø–∏—Å—å
                    local billboard = waypoint.visual:FindFirstChild("BillboardGui")
                    if billboard then
                        local label = billboard:FindFirstChild("TextLabel")
                        if label then
                            label.Text = tostring(i)
                        end
                    end
                end
            end
            -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            waypointCounter = #waypoints
            Library:Notify{ Title = "Twin", Content = "Removed last waypoint. Total: " .. #waypoints, Duration = 3 }
        else
            Library:Notify{ Title = "Twin", Content = "No waypoints to remove", Duration = 3 }
        end
    end
})
-- –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ–π–ø–æ–∏–Ω—Ç–æ–≤
local waypointConfigName = "default"
local waypointInput = TwinTab:CreateInput("waypoint_name_input", {
    Title = "Route name",
    Default = waypointConfigName,
    Placeholder = "Enter route name..."
})
waypointInput:OnChanged(function(v) 
    waypointConfigName = v:gsub("[^%w_%-%.]", "") -- –æ—á–∏—â–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞
end)
local saveWaypointsBtn = TwinTab:CreateButton({
    Title = "Save Route",
    Callback = function()
        if #waypoints == 0 then
            Library:Notify{ Title = "Twin", Content = "No waypoints to save", Duration = 3 }
            return
        end
        local routeData = {}
        for i, waypoint in ipairs(waypoints) do
            routeData[i] = {
                x = waypoint.position.X,
                y = waypoint.position.Y,
                z = waypoint.position.Z,
                isWaitWaypoint = waypoint.isWaitWaypoint or false,
                waitTime = waypoint.waitTime
            }
        end
        if writefile then
            local ok, json = pcall(function() return HttpService:JSONEncode(routeData) end)
            if ok then
                local filename = "FluentScriptHub/specific-game/waypoints_" .. waypointConfigName .. ".json"
                local ok2 = pcall(writefile, filename, json)
                if ok2 then
                    Library:Notify{ Title = "Twin", Content = "Route '" .. waypointConfigName .. "' saved (" .. #waypoints .. " waypoints)", Duration = 3 }
                else
                    Library:Notify{ Title = "Twin", Content = "Failed to save route file", Duration = 3 }
                end
            else
                Library:Notify{ Title = "Twin", Content = "Failed to encode route data", Duration = 3 }
            end
        else
            Library:Notify{ Title = "Twin", Content = "File system not available", Duration = 3 }
        end
    end
})
local loadWaypointsBtn = TwinTab:CreateButton({
    Title = "Load Route",
    Callback = function()
        if not (isfile and readfile) then
            Library:Notify{ Title = "Twin", Content = "File system not available", Duration = 3 }
            return
        end
        local filename = "FluentScriptHub/specific-game/waypoints_" .. waypointConfigName .. ".json"
        if not isfile(filename) then
            Library:Notify{ Title = "Twin", Content = "Route file not found", Duration = 3 }
            return
        end
        local ok, json = pcall(readfile, filename)
        if not ok then
            Library:Notify{ Title = "Twin", Content = "Failed to read route file", Duration = 3 }
            return
        end
        local ok2, routeData = pcall(function() return HttpService:JSONDecode(json) end)
        if not ok2 then
            Library:Notify{ Title = "Twin", Content = "Failed to decode route data", Duration = 3 }
            return
        end
        -- –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –≤–µ–π–ø–æ–∏–Ω—Ç—ã
        clearWaypointVisuals()
        waypoints = {}
        waypointCounter = 0
        currentWaypointIndex = 0
        isMoving = false
        if startStopBtn then startStopBtn:SetTitle("Start Route") end
        -- –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ –≤–µ–π–ø–æ–∏–Ω—Ç—ã
        for i, posData in ipairs(routeData) do
            local position = Vector3.new(posData.x, posData.y, posData.z)
            waypointCounter = waypointCounter + 1
            local waypointData = {
                position = position,
                index = waypointCounter,
                visual = nil,
                isWaitWaypoint = posData.isWaitWaypoint or false,
                waitTime = posData.waitTime
            }
            table.insert(waypoints, waypointData)
            -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é (—Ä–∞–∑–Ω—É—é –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏ wait waypoints)
            if waypointData.isWaitWaypoint then
                waypointData.visual = createWaitWaypointVisual(waypointData.position, waypointData.index, waypointData.waitTime)
            else
                waypointData.visual = createWaypointVisual(waypointData.position, waypointData.index)
            end
            table.insert(waypointParts, waypointData.visual)
        end
        Library:Notify{ Title = "Twin", Content = "Route '" .. waypointConfigName .. "' loaded (" .. #waypoints .. " waypoints)", Duration = 3 }
    end
})
-- –ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ Gold
local loadGoldRouteBtn = TwinTab:CreateButton({
    Title = "Load Built-in Gold Route",
    Callback = function()
        -- –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –≤–µ–π–ø–æ–∏–Ω—Ç—ã
        clearWaypointVisuals()
        waypoints = {}
        waypointCounter = 0
        -- –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç Gold
        for i, point in ipairs(builtinGoldRoute) do
            local waitInfo = builtinGoldRouteWaitInfo[i] or {}
            local waypointData = {
                position = Vector3.new(point.x, point.y, point.z),
                index = i,
                isWaitWaypoint = waitInfo.isWaitWaypoint or false,
                waitTime = waitInfo.waitTime
            }
            table.insert(waypoints, waypointData)
            -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é (—Ä–∞–∑–Ω—É—é –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏ wait waypoints)
            if waypointData.isWaitWaypoint then
                waypointData.visual = createWaitWaypointVisual(waypointData.position, waypointData.index, waypointData.waitTime)
            else
                waypointData.visual = createWaypointVisual(waypointData.position, waypointData.index)
            end
        end
        waypointCounter = #waypoints
        currentWaypointIndex = 1
        Library:Notify{ Title = "Twin", Content = "Built-in Gold Route loaded (" .. #waypoints .. " waypoints)", Duration = 3 }
        print("GMBT: Built-in Gold Route loaded with " .. #waypoints .. " waypoints")
    end
})
local deleteRouteBtn = TwinTab:CreateButton({
    Title = "Delete Saved Route",
    Callback = function()
        if not (isfile and delfile) then
            Library:Notify{ Title = "Twin", Content = "File system not available", Duration = 3 }
            return
        end
        local filename = "FluentScriptHub/specific-game/waypoints_" .. waypointConfigName .. ".json"
        if not isfile(filename) then
            Library:Notify{ Title = "Twin", Content = "Route file not found", Duration = 3 }
            return
        end
        local ok = pcall(delfile, filename)
        if ok then
            Library:Notify{ Title = "Twin", Content = "Route '" .. waypointConfigName .. "' deleted", Duration = 3 }
        else
            Library:Notify{ Title = "Twin", Content = "Failed to delete route file", Duration = 3 }
        end
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å–µ—Ö –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤
local listConfigsBtn = TwinTab:CreateButton({
    Title = "List All Saved Routes",
    Callback = function()
        if not (isfolder and listfiles) then
            Library:Notify{ Title = "Twin", Content = "File system not available", Duration = 3 }
            return
        end
        local folder = "FluentScriptHub/specific-game"
        if not isfolder(folder) then
            Library:Notify{ Title = "Twin", Content = "No saved routes found", Duration = 3 }
            return
        end
        local files = listfiles(folder)
        local routes = {}
        for _, file in ipairs(files) do
            local filename = file:match("([^/\\]+)$")
            if filename and filename:match("^waypoints_.*%.json$") then
                local routeName = filename:gsub("^waypoints_(.*)%.json$", "%1")
                table.insert(routes, routeName)
            end
        end
        if #routes == 0 then
            Library:Notify{ Title = "Twin", Content = "No saved routes found", Duration = 3 }
            print("GMBT: No saved routes found")
        else
            Library:Notify{ Title = "Twin", Content = "Found " .. #routes .. " saved routes", Duration = 3 }
            print("GMBT: Saved routes:")
            for i, route in ipairs(routes) do
                print("  " .. i .. ". " .. route)
            end
        end
    end
})
-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤
local availableRoutes = {}
local routeDropdown = TwinTab:CreateDropdown("route_dropdown", {
    Title = "Select Route to Load",
    Values = {},
    Default = "",
    Callback = function(selected)
        if selected and selected ~= "" then
            -- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º
            waypointConfigName = selected
            if waypointInput then
                waypointInput:SetValue(selected)
            end
            -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
            if not (isfile and readfile) then
                Library:Notify{ Title = "Twin", Content = "File system not available", Duration = 3 }
                return
            end
            local filename = "FluentScriptHub/specific-game/waypoints_" .. selected .. ".json"
            if not isfile(filename) then
                Library:Notify{ Title = "Twin", Content = "Route file not found: " .. selected, Duration = 3 }
                return
            end
            local ok, json = pcall(readfile, filename)
            if not ok then
                Library:Notify{ Title = "Twin", Content = "Failed to read route file", Duration = 3 }
                return
            end
            local ok2, routeData = pcall(function() return HttpService:JSONDecode(json) end)
            if not ok2 then
                Library:Notify{ Title = "Twin", Content = "Failed to decode route data", Duration = 3 }
                return
            end
            -- –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –≤–µ–π–ø–æ–∏–Ω—Ç—ã
            clearWaypointVisuals()
            waypoints = {}
            waypointCounter = 0
            currentWaypointIndex = 0
            isMoving = false
            if startStopBtn then startStopBtn:SetTitle("Start Route") end
            -- –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ –≤–µ–π–ø–æ–∏–Ω—Ç—ã
            for i, posData in ipairs(routeData) do
                local position = Vector3.new(posData.x, posData.y, posData.z)
                waypointCounter = waypointCounter + 1
                local waypointData = {
                    position = position,
                    index = waypointCounter,
                    visual = nil,
                    isWaitWaypoint = posData.isWaitWaypoint or false,
                    waitTime = posData.waitTime
                }
                table.insert(waypoints, waypointData)
                -- –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é (—Ä–∞–∑–Ω—É—é –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏ wait waypoints)
                if waypointData.isWaitWaypoint then
                    waypointData.visual = createWaitWaypointVisual(waypointData.position, waypointData.index, waypointData.waitTime)
                else
                    waypointData.visual = createWaypointVisual(waypointData.position, waypointData.index)
                end
                table.insert(waypointParts, waypointData.visual)
            end
            Library:Notify{ Title = "Twin", Content = "Loaded '" .. selected .. "' (" .. #waypoints .. " waypoints)", Duration = 3 }
            print("GMBT: Loaded route '" .. selected .. "' with " .. #waypoints .. " waypoints")
        end
end})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
local refreshRoutesBtn = TwinTab:CreateButton({
    Title = "Refresh Routes List",
    Callback = function()
        -- –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
        local folder = "FluentScriptHub/specific-game"
        availableRoutes = {}
        if isfolder(folder) then
            local files = listfiles(folder)
            for _, file in ipairs(files) do
                local filename = file:match("([^/\\]+)$")
                if filename and filename:match("^waypoints_.*%.json$") then
                    local routeName = filename:gsub("^waypoints_(.*)%.json$", "%1")
                    table.insert(availableRoutes, routeName)
                end
            end
        end
        -- –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
        if routeDropdown.SetValues then
            routeDropdown:SetValues(availableRoutes)
        end
        Library:Notify{ Title = "Twin", Content = "Routes list refreshed (" .. #availableRoutes .. " routes)", Duration = 3 }
        print("GMBT: Refreshed routes list - found " .. #availableRoutes .. " routes")
    end
})
-- ========= [ Waypoint Editor ] =========
local selectedWaypointIndex = nil
local waypointSelector = TwinTab:CreateDropdown("waypoint_selector", {
    Title = "Select Waypoint to Edit",
    Values = {},
    Default = nil,
    Callback = function(value)
        if value then
            selectedWaypointIndex = tonumber(value)
            local waypoint = waypoints[selectedWaypointIndex]
            if waypoint then
                Library:Notify{ Title = "Twin", Content = "Selected Waypoint " .. selectedWaypointIndex .. " - Pos: (" .. math.floor(waypoint.position.X) .. ", " .. math.floor(waypoint.position.Y) .. ", " .. math.floor(waypoint.position.Z) .. ")", Duration = 4 }
            end
        else
            selectedWaypointIndex = nil
        end
    end
})
-- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ waypoints
local function updateWaypointSelector()
    local waypointList = {}
    for i, waypoint in ipairs(waypoints) do
        local label = "Waypoint " .. i
        if waypoint.isWaitWaypoint then
            label = label .. " (Wait: " .. (waypoint.waitTime or 3) .. "s)"
        end
        table.insert(waypointList, tostring(i))
    end
    if waypointSelector.SetValues then
        waypointSelector:SetValues(waypointList)
    end
end
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ waypoints
local updateWaypointListBtn = TwinTab:CreateButton({
    Title = "Update Waypoints List",
    Callback = function()
        updateWaypointSelector()
        Library:Notify{ Title = "Twin", Content = "Waypoints list updated (" .. #waypoints .. " waypoints)", Duration = 3 }
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ waypoint
local removeSelectedBtn = TwinTab:CreateButton({
    Title = "Remove Selected Waypoint",
    Callback = function()
        if selectedWaypointIndex and waypoints[selectedWaypointIndex] then
            local waypoint = waypoints[selectedWaypointIndex]
            -- –£–¥–∞–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
            if waypoint.visual then
                waypoint.visual:Destroy()
            end
            table.remove(waypoints, selectedWaypointIndex)
            Library:Notify{ Title = "Twin", Content = "Removed Waypoint " .. selectedWaypointIndex, Duration = 3 }
            selectedWaypointIndex = nil
            updateWaypointSelector()
            -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö waypoints
            for i, wp in ipairs(waypoints) do
                if wp.visual then
                    wp.visual:Destroy()
                end
                if wp.isWaitWaypoint then
                    wp.visual = createWaitWaypointVisual(wp.position, i, wp.waitTime or 3)
                else
                    wp.visual = createWaypointVisual(wp.position, i)
                end
            end
        else
            Library:Notify{ Title = "Twin", Content = "No waypoint selected", Duration = 3 }
        end
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É waypoint
local teleportToBtn = TwinTab:CreateButton({
    Title = "Teleport to Selected Waypoint",
    Callback = function()
        if selectedWaypointIndex and waypoints[selectedWaypointIndex] then
            local waypoint = waypoints[selectedWaypointIndex]
            if root then
                root.CFrame = CFrame.new(waypoint.position)
                Library:Notify{ Title = "Twin", Content = "Teleported to Waypoint " .. selectedWaypointIndex, Duration = 3 }
            else
                Library:Notify{ Title = "Twin", Content = "Character not found", Duration = 3 }
            end
        else
            Library:Notify{ Title = "Twin", Content = "No waypoint selected", Duration = 3 }
        end
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ waypoint
local moveWaypointBtn = TwinTab:CreateButton({
    Title = "Move Selected to Current Position",
    Callback = function()
        if selectedWaypointIndex and waypoints[selectedWaypointIndex] then
            local waypoint = waypoints[selectedWaypointIndex]
            if root then
                -- –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é waypoint
                waypoint.position = root.Position
                -- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                if waypoint.visual then
                    waypoint.visual:Destroy()
                end
                -- –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
                if waypoint.isWaitWaypoint then
                    waypoint.visual = createWaitWaypointVisual(waypoint.position, selectedWaypointIndex, waypoint.waitTime or 3)
                else
                    waypoint.visual = createWaypointVisual(waypoint.position, selectedWaypointIndex)
                end
                Library:Notify{ Title = "Twin", Content = "Moved Waypoint " .. selectedWaypointIndex .. " to current position", Duration = 3 }
            else
                Library:Notify{ Title = "Twin", Content = "Character not found", Duration = 3 }
            end
        else
            Library:Notify{ Title = "Twin", Content = "No waypoint selected", Duration = 3 }
        end
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ waypoint –ø–æ—Å–ª–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ
local insertWaypointBtn = TwinTab:CreateButton({
    Title = "Insert Waypoint After Selected",
    Callback = function()
        if selectedWaypointIndex and waypoints[selectedWaypointIndex] then
            if root then
                -- –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π waypoint –Ω–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
                local newWaypoint = {
                    position = root.Position,
                    isWaitWaypoint = false,
                    waitTime = nil,
                    visual = nil
                }
                -- –í—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ waypoint
                table.insert(waypoints, selectedWaypointIndex + 1, newWaypoint)
                -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö waypoints –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏
                for i = selectedWaypointIndex + 1, #waypoints do
                    if waypoints[i].visual then
                        waypoints[i].visual:Destroy()
                    end
                    if waypoints[i].isWaitWaypoint then
                        waypoints[i].visual = createWaitWaypointVisual(waypoints[i].position, i, waypoints[i].waitTime or 3)
                    else
                        waypoints[i].visual = createWaypointVisual(waypoints[i].position, i)
                    end
                end
                Library:Notify{ Title = "Twin", Content = "Inserted new waypoint after " .. selectedWaypointIndex, Duration = 3 }
                updateWaypointSelector()
            else
                Library:Notify{ Title = "Twin", Content = "Character not found", Duration = 3 }
            end
        else
            Library:Notify{ Title = "Twin", Content = "No waypoint selected", Duration = 3 }
        end
    end
})
-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ waypoint
local changeWaitTimeBtn = TwinTab:CreateButton({
    Title = "Change Wait Time for Selected",
    Callback = function()
        if selectedWaypointIndex and waypoints[selectedWaypointIndex] then
            local waypoint = waypoints[selectedWaypointIndex]
            if waypoint.isWaitWaypoint then
                waypoint.waitTime = waitTimeSlider.Value
                -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                if waypoint.visual then
                    waypoint.visual:Destroy()
                end
                waypoint.visual = createWaitWaypointVisual(waypoint.position, selectedWaypointIndex, waypoint.waitTime)
                Library:Notify{ Title = "Twin", Content = "Updated wait time for Waypoint " .. selectedWaypointIndex .. " to " .. waypoint.waitTime .. "s", Duration = 3 }
            else
                Library:Notify{ Title = "Twin", Content = "Selected waypoint is not a wait waypoint", Duration = 3 }
            end
        else
            Library:Notify{ Title = "Twin", Content = "No waypoint selected", Duration = 3 }
        end
    end
})
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ waypoints
local originalAddWaypoint = addWaypointBtn.Callback
addWaypointBtn.Callback = function()
    originalAddWaypoint()
    task.wait(0.1)
    updateWaypointSelector()
end
local originalAddWaitWaypoint = addWaitWaypointBtn.Callback
addWaitWaypointBtn.Callback = function()
    originalAddWaitWaypoint()
    task.wait(0.1)
    updateWaypointSelector()
end
local originalRemoveLast = removeLastBtn.Callback
removeLastBtn.Callback = function()
    originalRemoveLast()
    task.wait(0.1)
    updateWaypointSelector()
end
local originalClear = clearWaypointBtn.Callback
clearWaypointBtn.Callback = function()
    originalClear()
    task.wait(0.1)
    updateWaypointSelector()
end
local heal_toggle = HealTab:CreateToggle("heal_auto", { Title = "Auto Heal", Default = false })
local heal_item   = HealTab:CreateDropdown("heal_item", { Title  = "Item to use", Values = { "Bloodfruit","Bluefruit","Berry","Strawberry","Coconut","Apple","Lemon","Orange","Banana" }, Default = "Bloodfruit" })
local heal_thresh = HealTab:CreateSlider("heal_thresh", { Title = "HP threshold (%)", Min = 1, Max = 100, Rounding = 0, Default = 70 })
local heal_cd     = HealTab:CreateSlider("heal_cd",     { Title = "Per-bite delay (s)", Min = 0.00, Max = 0.30, Rounding = 2, Default = 0.02 })
local heal_tick   = HealTab:CreateSlider("heal_tick",   { Title = "Check interval (s)", Min = 0.00, Max = 0.20, Rounding = 2, Default = 0.01 })
local heal_hyst   = HealTab:CreateSlider("heal_hyst",   { Title = "Extra heal margin (%)", Min = 0, Max = 30, Rounding = 0, Default = 4 })
local heal_burst  = HealTab:CreateSlider("heal_burst",  { Title = "Max items per burst", Min = 1, Max = 20, Rounding = 0, Default = 10 })
local heal_ultra  = HealTab:CreateToggle("heal_ultra",  { Title = "Ultra mode (multi-packet per frame)", Default = false })
local heal_ppf    = HealTab:CreateSlider("heal_ppf",    { Title = "Packets per frame (ultra)", Min = 1, Max = 6, Rounding = 0, Default = 3 })
local heal_debug  = HealTab:CreateToggle("heal_debug",  { Title = "Debug logs (F9)", Default = false })
local function readHPpct()
    if hum == nil or hum.MaxHealth == 0 then return 100 end
    local v = (hum.Health / hum.MaxHealth) * 100
    return math.clamp(v,0,100)
end
task.spawn(function()
    while true do
        if heal_toggle.Value and hum ~= nil and hum.Parent ~= nil then
            local hp = readHPpct()
            local thresh = heal_thresh.Value
            if hp < thresh then
                local target = math.min(100, thresh + heal_hyst.Value)
                local rounds = 0
                local maxRounds = math.max(1, heal_burst.Value)
                repeat
                    local it = heal_item.Value or "Bloodfruit"
                    local did = false
                    local slot = getSlotByName(it)
                    if slot ~= nil then did = consumeBySlot(slot) end
                    if not did then
                        local id = getItemIdByName(it)
                        if id ~= nil then did = consumeById(id) end
                    end
                    if heal_ultra.Value then
                        for j=2, heal_ppf.Value do
                            local slot2 = getSlotByName(it)
                            local used = false
                            if slot2 ~= nil then used = consumeBySlot(slot2) end
                            if not used then
                                local id2 = getItemIdByName(it)
                                if id2 ~= nil then consumeById(id2) end
                            end
                        end
                    end
                    rounds = rounds + 1
                    if heal_debug.Value then
                        local msg = "[AutoHeal] bite "..tostring(rounds)
                        if heal_ultra.Value then msg = msg.." x"..tostring(heal_ppf.Value) end
                        print(msg)
                    end
                    if heal_cd.Value <= 0 then task.wait() else task.wait(heal_cd.Value) end
                    hp = readHPpct()
                until hp >= target or rounds >= maxRounds
            end
            if heal_tick.Value <= 0 then task.wait() else task.wait(heal_tick.Value) end
        else
            task.wait(0.12)
        end
    end
end)
end
-- ========= [ TAB: Combat (By wedro) ‚Äî v2 ] =========
do
    local AntsNameTab = Window:AddTab({ Title = "Combat (By wedro)", Icon = "target" })
    local an_on      = AntsNameTab:CreateToggle("an_on",      { Title = "Enable", Default = false })
    local an_range   = AntsNameTab:CreateSlider ("an_range",  { Title = "Range (studs)", Min = 6, Max = 160, Rounding = 0, Default = 38 })
    local an_targets = AntsNameTab:CreateSlider ("an_targets",{ Title = "Max targets / cycle", Min = 1, Max = 10, Rounding = 0, Default = 6 })
    local an_ptcd    = AntsNameTab:CreateSlider ("an_ptcd",   { Title = "Per-target cooldown (ms)", Min = 60, Max = 220, Rounding = 0, Default = 95 })
    local an_cdms    = AntsNameTab:CreateSlider ("an_cdms",   { Title = "Cycle cooldown (ms)", Min = 14, Max = 80, Rounding = 0, Default = 24 })
    local an_los     = AntsNameTab:CreateToggle("an_los",     { Title = "Line-of-sight check", Default = false })
    local an_exact   = AntsNameTab:CreateToggle("an_exact",   { Title = "Exact match (off = contains)", Default = false })
    local an_dbg     = AntsNameTab:CreateToggle("an_dbg",     { Title = "Debug (F9)", Default = false })
    local DEFAULT_NAMES = {
        ["Queen Ant's Servant"] = true,
        ["Queen Ant‚Äôs Servant"] = true,
        ["servant"] = true,
    }
    local NAME_SET = {} do for k,_ in pairs(DEFAULT_NAMES) do NAME_SET[string.lower(k)] = true end end
    local function namesArrayFromSet(set) local t={} for n,_ in pairs(set) do t[#t+1]=n end table.sort(t) return t end
    local names_dropdown = AntsNameTab:CreateDropdown("an_names", { Title = "Whitelist (multi, by name)", Values = namesArrayFromSet(NAME_SET), Multi  = true, Default = {} })
    local newName=""; AntsNameTab:AddInput("an_add_input",{ Title="Add name (exact or part)", Default="" }):OnChanged(function(v) newName=tostring(v or "") end)
    AntsNameTab:CreateButton({ Title="Add to whitelist", Callback=function() local s=(newName or ""):gsub("^%s+",""):gsub("%s+$",""); if s~="" then NAME_SET[string.lower(s)]=true; if names_dropdown.SetValues then names_dropdown:SetValues(namesArrayFromSet(NAME_SET)) end; Library:Notify{ Title="By Name", Content=("Added: %s"):format(s), Duration=2 } end end})
    AntsNameTab:CreateButton({ Title="Clear whitelist (reset)", Callback=function() table.clear(NAME_SET); for k,_ in pairs(DEFAULT_NAMES) do NAME_SET[string.lower(k)]=true end; if names_dropdown.SetValues then names_dropdown:SetValues(namesArrayFromSet(NAME_SET)) end; Library:Notify{ Title="By Name", Content="Whitelist reset", Duration=2 } end })
    local function myRoot() local c=plr.Character return c and (c:FindFirstChild("HumanoidRootPart") or c.PrimaryPart) end
    local RAY = RaycastParams.new(); RAY.FilterType = Enum.RaycastFilterType.Exclude
    local function hasLOS(a, b) if not an_los.Value then return true end RAY.FilterDescendantsInstances={plr.Character}; return workspace:Raycast(a, b-a, RAY) == nil end
    local function displayNameFromModel(m) if not m then return "" end if m.GetAttribute then local dn=m:GetAttribute("DisplayName") or m:GetAttribute("Name") or m:GetAttribute("NPCType"); if dn and dn~="" then return tostring(dn) end end return tostring(m.Name or "") end
    local function nameMatches(str) local s=string.lower(tostring(str or "")); if s=="" then return false end if an_exact.Value then for k,_ in pairs(NAME_SET) do if s==k then return true end end else for k,_ in pairs(NAME_SET) do if s:find(k,1,true) then return true end end end return false end
    local function findNamedAncestorModel(m) local depth=0 local cur=m while cur and depth<4 do if cur:IsA("Model") then local dn=displayNameFromModel(cur) if nameMatches(dn) or nameMatches(cur.Name) then return cur,(dn~="" and dn or cur.Name) end end cur=cur.Parent depth = depth + 1 end return nil,nil end
    local function anyBasePart(m) if not m then return nil end return m:FindFirstChild("HumanoidRootPart") or m.PrimaryPart or m:FindFirstChildWhichIsA("BasePart") or (function() for _,d in ipairs(m:GetDescendants()) do if d:IsA("BasePart") then return d end end end)() end
    local function extractEID(m) if not m then return nil end if m.GetAttribute then local v=m:GetAttribute("EntityID") or m:GetAttribute("entityId") or m:GetAttribute("Id") or m:GetAttribute("Entity") or m:GetAttribute("ServerId"); if v then return v end end for _,d in ipairs(m:GetDescendants()) do if d.GetAttribute then local v=d:GetAttribute("EntityID") or d:GetAttribute("entityId") or d:GetAttribute("Id") or d:GetAttribute("Entity") or d:GetAttribute("ServerId"); if v then return v end end end return nil end
    local overlap = OverlapParams.new(); overlap.FilterType = Enum.RaycastFilterType.Exclude; overlap.FilterDescendantsInstances = { plr.Character }
    local lastHit = {}
    local function collectByName(radius)
        local me=myRoot(); if not me then return {} end
        local hits=workspace:GetPartBoundsInRadius(me.Position, radius, overlap); if not hits or #hits==0 then return {} end
        local out, seen = {}, {}
        for _,p in ipairs(hits) do
            if p:IsA("BasePart") and p.Parent then
                local mdl=p:FindFirstAncestorOfClass("Model")
                if mdl and not seen[mdl] then
                    local named,label = findNamedAncestorModel(mdl)
                    if named then
                        local part=anyBasePart(named)
                        if part and hasLOS(me.Position+Vector3.new(0,2.6,0), part.Position+Vector3.new(0,1.6,0)) then
                            seen[named]=true
                            local d=(part.Position-me.Position).Magnitude
                            out[#out+1] = { model=named, root=part, dist=d, name=label or displayNameFromModel(named) or named.Name, eid=extractEID(named) }
                        end
                    end
                end
            end
        end
        table.sort(out, function(a,b) return a.dist < b.dist end)
        return out
    end
    local function pick(list, cap)
        local now=tick(); local gap=(an_ptcd.Value or 95)/1000; local out={}
        for i=1,#list do local key=list[i].model if (now-(lastHit[key] or 0))>=gap then out[#out+1]=list[i]; if #out>=cap then break end end end
        if #out==0 then for i=1, math.min(cap, #list) do out[#out+1]=list[i] end end
        return out
    end
    local function safeSwing(targets)
        if #targets==0 then return end
        local ids={} for i=1,#targets do if targets[i].eid ~= nil then ids[#ids+1]=targets[i].eid end end
        local sent=false
        if #ids>0 then sent=pcall(function() swingtool(ids) end); if an_dbg.Value then print(("-- [ByName] by ID x%d -> %s"):format(#ids, sent and "OK" or "ERR")) end end
        if not sent then local insts={} for i=1,#targets do insts[#insts+1]=targets[i].model end local ok2=pcall(function() swingtool(insts) end); if an_dbg.Value then print(("-- [ByName] by INST x%d -> %s"):format(#insts, ok2 and "OK" or "ERR")) end end
        local t=tick(); for i=1,#targets do lastHit[targets[i].model]=t end
    end
    task.spawn(function()
        while true do
            if an_on.Value then
                local near=collectByName(an_range.Value)
                if #near>0 then
                    local picked=pick(near, math.max(1, math.floor(an_targets.Value)))
                    if an_dbg.Value then local a=picked[1]; print(string.format("-- [ByName] '%s' d=%.1f eid=%s", a.name, a.dist, tostring(a.eid))) end
                    safeSwing(picked)
                elseif an_dbg.Value then
                    print("-- [ByName] no targets")
                end
                task.wait((an_cdms.Value or 24)/1000)
            else
                task.wait(0.15)
            end
        end
    end)
    AntsNameTab:CreateButton({ Title="Preset: Servants only", Callback=function()
        an_on:SetValue(true); an_exact:SetValue(false); an_range:SetValue(40); an_targets:SetValue(6); an_ptcd:SetValue(90); an_cdms:SetValue(22); an_los:SetValue(false)
        table.clear(NAME_SET); NAME_SET["servant"]=true
        if names_dropdown.SetValues then names_dropdown:SetValues(namesArrayFromSet(NAME_SET)) end
    end })
    AntsNameTab:CreateButton({ Title="Preset: Exact 'Queen Ant‚Äôs Servant'", Callback=function()
        an_on:SetValue(true); an_exact:SetValue(true)
        table.clear(NAME_SET); NAME_SET[string.lower("Queen Ant's Servant")]=true; NAME_SET[string.lower("Queen Ant‚Äôs Servant")]=true
        if names_dropdown.SetValues then names_dropdown:SetValues(namesArrayFromSet(NAME_SET)) end
        an_range:SetValue(38); an_targets:SetValue(6); an_ptcd:SetValue(95); an_cdms:SetValue(24); an_los:SetValue(false)
    end })
end
-- ========= [ TAB: Farming (–ø–æ—Å–∞–¥–∫–∞/—Å–±–æ—Ä + BV + Area Auto Build) ] =========
do
Tabs.Farming = Window:AddTab({ Title = "Farming", Icon = "shovel" })
local planttoggle     = Tabs.Farming:CreateToggle("planttoggle",    { Title = "Auto Plant (nearby Plant Boxes)", Default = false })
local plantrange      = Tabs.Farming:CreateSlider("plantrange",     { Title = "Plant range (studs)", Min = 8, Max = 150, Rounding = 0, Default = 30 })
local plantdelay      = Tabs.Farming:CreateSlider("plantdelay",     { Title = "Plant delay (s)", Min = 0.01, Max = 0.25, Rounding = 2, Default = 0.03 })
local fruitdropdownUI = Tabs.Farming:CreateDropdown("fruitdropdown",{ Title = "Seed / Fruit", Values = {
    "Bloodfruit","Bluefruit","Lemon","Coconut","Jelly","Banana","Orange","Oddberry",
    "Berry","Strangefruit","Strawberry","Sunfruit","Pumpkin","Prickly Pear","Apple",
    "Barley","Cloudberry","Carrot"
}, Default = "Bloodfruit" })
local harvesttoggle   = Tabs.Farming:CreateToggle("harvesttoggle",  { Title = "Auto Harvest (bushes)", Default = false })
local harvestrange    = Tabs.Farming:CreateSlider("harvestrange",   { Title = "Harvest range (studs)", Min = 8, Max = 150, Rounding = 0, Default = 30 })
local tweenrange      = Tabs.Farming:CreateSlider("tweenrange",     { Title = "Follow range (studs)", Min = 10, Max = 300, Rounding = 0, Default = 120 })
local tweenplantboxtoggle = Tabs.Farming:CreateToggle("tweenplantboxtoggle", { Title = "Move to nearest empty Plant Box (BV)", Default = false })
local tweenbushtoggle     = Tabs.Farming:CreateToggle("tweenbushtoggle",     { Title = "Move to nearest Fruit Bush (BV)", Default = false })
-- leash UI
local leash_on       = Tabs.Farming:CreateToggle("leash_on",       { Title = "Stay in farm area (leash)", Default = false })
local leash_radius   = Tabs.Farming:CreateSlider("leash_radius",   { Title = "Leash radius (studs)", Min = 20, Max = 400, Rounding = 0, Default = 120 })
local LEASH = { center = nil, radius = 120 }
local function setLeashCenter() if root then LEASH.center = root.Position; LEASH.radius = tonumber(leash_radius.Value) or 120 end end
leash_radius:OnChanged(function(v) LEASH.radius = tonumber(v) or 120 end)
local plantedboxes = {}
local function plant(entityid, itemID)
    if packets and packets.InteractStructure and packets.InteractStructure.send then
        pcall(function() packets.InteractStructure.send({ entityID = entityid, itemID = itemID }) end)
        plantedboxes[entityid] = true
    end
end
local function getbushes(range, fruitname)
    if not root or not root.Parent then return {} end
    local bushes={}
    local match = fruitname and fruitname:lower() or ""
    for _,model in ipairs(workspace:GetChildren()) do
        if model:IsA("Model") and model.Name:lower():find(match,1,true) then
            local pp=model.PrimaryPart or model:FindFirstChildWhichIsA("BasePart")
            if pp then
                local d=(pp.Position-root.Position).Magnitude
                if d<=range then
                    local eid=model:GetAttribute("EntityID")
                    if eid then table.insert(bushes,{entityid=eid,model=model,dist=d,pos=pp.Position}) end
                end
            end
        end
    end
    table.sort(bushes,function(a,b) return a.dist<b.dist end)
    return bushes
end
local function safePickup(eid)
    local ok=pcall(function() pickup(eid) end)
    if not ok and packets and packets.Pickup and packets.Pickup.send then pcall(function() packets.Pickup.send(eid) end) end
end
-- –∞–≤—Ç–æ-–ø–æ—Å–∞–¥–∫–∞ (–±–∞—Ç—á–∏)
local PLANT_BATCH, PLANT_GAP = 25, 0.02
task.spawn(function()
    while true do
        if planttoggle.Value and root and root.Parent then
            local range=tonumber(plantrange.Value) or 30
            local delay=tonumber(plantdelay.Value) or 0.03
            local itemID=_G.fruittoitemid[fruitdropdownUI.Value] or 94
            local plantboxes=getpbs(range)
            local planted=0
            for _,box in ipairs(plantboxes) do
                if not box.deployable:FindFirstChild("Seed") then
                    plant(box.entityid,itemID); planted = planted + 1
                    if planted%PLANT_BATCH==0 then task.wait(PLANT_GAP) end
                else plantedboxes[box.entityid]=true end
            end
            task.wait(delay)
        else task.wait(0.1) end
    end
end)
-- –∞–≤—Ç–æ-—Å–±–æ—Ä (–±–∞—Ç—á–∏)
local HARVEST_BATCH, HARVEST_GAP = 20, 0.02
task.spawn(function()
    while true do
        if harvesttoggle.Value and root and root.Parent then
            local harvRange=tonumber(harvestrange.Value) or 30
            local selected=fruitdropdownUI.Value
            local bushes=getbushes(harvRange,selected)
            local picked=0
            for _,b in ipairs(bushes) do
                safePickup(b.entityid); picked = picked + 1
                if picked%HARVEST_BATCH==0 then task.wait(HARVEST_GAP) end
            end
            task.wait(0.05)
        else task.wait(0.1) end
    end
end)
-- —Ç–≤–∏–Ω—ã BV —Å leash
 local function moveBV_toPos(targetPos)
     if not (root and root.Parent) then return false end
     local bv = root:FindFirstChild("_FARM_BV")
     if not bv then
         bv = Instance.new("BodyVelocity")
         bv.Name = "_FARM_BV"
         bv.MaxForce = Vector3.new(1e9, 0, 1e9)
         bv.Velocity = Vector3.new()
         bv.Parent = root
     end
     local startT = tick()
     local timeout = 10
     while (tick() - startT) < timeout do
         if not (root and root.Parent) then break end
         local rp = root.Position
         local to = Vector3.new(targetPos.X - rp.X, 0, targetPos.Z - rp.Z)
         local dist = to.Magnitude
         if dist <= 1.25 then
             bv.Velocity = Vector3.new()
             return true
         end
         bv.Velocity = (dist > 0 and to.Unit or Vector3.new()) * 24
         RunService.Heartbeat:Wait()
     end
     bv.Velocity = Vector3.new()
     return false
 end
local function tweenplantbox(range)
    while tweenplantboxtoggle.Value do
        local pbs=getpbs(range)
        for _,box in ipairs(pbs) do
            if not box.deployable:FindFirstChild("Seed") then
                local target = box.pos
                if leash_on.Value and LEASH.center and target and (target - LEASH.center).Magnitude > (LEASH.radius + 5) then
                    target = nil
                end
                if target then moveBV_toPos(target) end
                break
            end
        end
        task.wait(0.05)
    end
end
local function tweenpbs(range, fruitname)
    while tweenbushtoggle.Value do
        local bushes=getbushes(range,fruitname)
        if #bushes>0 then
            local target = bushes[1].pos
            if leash_on.Value and LEASH.center and target and (target - LEASH.center).Magnitude > (LEASH.radius + 5) then
                target = nil
            end
            if target then moveBV_toPos(target) end
        else
            local pbs=getpbs(range)
            for _,box in ipairs(pbs) do
                if not box.deployable:FindFirstChild("Seed") then
                    local target = box.pos
                    if leash_on.Value and LEASH.center and target and (target - LEASH.center).Magnitude > (LEASH.radius + 5) then
                        target = nil
                    end
                    if target then moveBV_toPos(target) end
                    break
                end
            end
        end
        task.wait(0.05)
    end
end
task.spawn(function() while true do if not tweenplantboxtoggle.Value then task.wait(0.1) else tweenplantbox(tonumber(tweenrange.Value) or 250) end end end)
task.spawn(function() while true do if not tweenbushtoggle.Value   then task.wait(0.1) else tweenpbs(tonumber(tweenrange.Value) or 20, fruitdropdownUI.Value) end end end)
-- ========= [ Farming: Area Auto Build (BV) + –≤–∏–∑—É–∞–ª –∑–æ–Ω–∞ ] =========
local BuildTab = Tabs.Farming
local AB = { on=false, cornerA=nil, cornerB=nil, spacing=6.04, hoverY=5, speed=21,
    stopTol=0.6, segTimeout=1.2, antiStuckTime=0.8, placeDelay=0.06,
    sideStep=4.2, sideMaxTries=4, wallProbeLen=7.0, wallProbeHeight=2.4 }
local AB_VIS_FOLDER = Workspace:FindFirstChild("_AB_VIS") or Instance.new("Folder", Workspace); AB_VIS_FOLDER.Name="_AB_VIS"
local AB_zonePart, AB_zoneBox
local function AB_clearVisual() if AB_zoneBox then AB_zoneBox:Destroy() AB_zoneBox=nil end if AB_zonePart then AB_zonePart:Destroy() AB_zonePart=nil end end
local function AB_snap(v,s) return math.floor(v/s+0.5)*s end
local function AB_updateVisual()
    AB_clearVisual(); if not (AB.cornerA and AB.cornerB) then return end
    local a,b=AB.cornerA,AB.cornerB; local step=AB.spacing
    local xmin=AB_snap(math.min(a.X,b.X),step); local xmax=AB_snap(math.max(a.X,b.X),step)
    local zmin=AB_snap(math.min(a.Z,b.Z),step); local zmax=AB_snap(math.max(a.Z,b.Z),step)
    local sizeX=math.max(step,math.abs(xmax-xmin)+step); local sizeZ=math.max(step,math.abs(zmax-zmin)+step)
    local y=(root and root.Position.Y or (a.Y+b.Y)/2)+0.15; local cf=CFrame.new((xmin+xmax)/2,y,(zmin+zmax)/2)
    AB_zonePart=Instance.new("Part"); AB_zonePart.Name="_AB_ZONE"; AB_zonePart.Anchored=true; AB_zonePart.CanCollide=false; AB_zonePart.CanTouch=false; AB_zonePart.CanQuery=false
    AB_zonePart.Material=Enum.Material.ForceField; AB_zonePart.Color=Color3.fromRGB(255,220,80); AB_zonePart.Transparency=0.8
    AB_zonePart.Size=Vector3.new(sizeX,0.2,sizeZ); AB_zonePart.CFrame=cf; AB_zonePart.Parent=AB_VIS_FOLDER
    AB_zoneBox=Instance.new("SelectionBox"); AB_zoneBox.LineThickness=0.03; AB_zoneBox.Color3=Color3.fromRGB(255,220,80); AB_zoneBox.SurfaceTransparency=1
    AB_zoneBox.Adornee=AB_zonePart; AB_zoneBox.Parent=AB_VIS_FOLDER
end
plr.CharacterAdded:Connect(function() task.defer(function() ensureChar(); AB_updateVisual() end) end)
local ab_toggle  = BuildTab:CreateToggle("ab_area_on",{ Title="Auto Build (BV) ‚Äî Area", Default=false })
local ab_spacing = BuildTab:CreateSlider("ab_area_spacing",{ Title="Spacing (studs)", Min=5.6, Max=7.2, Rounding=2, Default=6.04 })
local ab_speed   = BuildTab:CreateSlider("ab_area_speed",{ Title="Speed (BV)", Min=10, Max=60, Rounding=1, Default=21 })
BuildTab:CreateButton({ Title="Set Corner A (here)", Callback=function() if root then AB.cornerA=root.Position; AB_updateVisual() end end })
BuildTab:CreateButton({ Title="Set Corner B (here)", Callback=function() if root then AB.cornerB=root.Position; AB_updateVisual() end end })
BuildTab:CreateButton({ Title="Clear Area (A & B)",  Callback=function() AB.cornerA,AB.cornerB=nil,nil; AB_clearVisual() end })
ab_spacing:OnChanged(function(v) AB.spacing=v; AB_updateVisual() end)
ab_speed:OnChanged(function(v) AB.speed=v end)
ab_toggle:OnChanged(function(v) AB.on=v; if v then off(tweenplantboxtoggle); off(tweenbushtoggle) end end)
local function AB_getBV() if not root then return nil end return root:FindFirstChild("_AB_BV") end
local function AB_ensureBV() local bv=AB_getBV(); if not bv then bv=Instance.new("BodyVelocity"); bv.Name="_AB_BV"; bv.MaxForce=Vector3.new(1e9,0,1e9); bv.Velocity=Vector3.new(); bv.Parent=root end return bv end
local rayParamsAB = RaycastParams.new(); rayParamsAB.FilterType=Enum.RaycastFilterType.Exclude; rayParamsAB.FilterDescendantsInstances={plr.Character}
local function wallAheadAB(dir2d)
    if dir2d.Magnitude<1e-4 then return false end
    local origin=root.Position+Vector3.new(0,AB.wallProbeHeight,0)
    local dir3=Vector3.new(dir2d.X,0,dir2d.Z).Unit*AB.wallProbeLen
    local hit=workspace:Raycast(origin,dir3,rayParamsAB); if not hit then return false end
    return (hit.Normal.Y or 0)<0.55
end
local function moveBV_to(target)
    if not AB.on or not root then return false end
    local bv=AB_ensureBV(); local t0, lastMoveT=tick(), tick(); local lastPos=root.Position; local timeCap=AB.segTimeout+6
    while AB.on do
        local rp=root.Position; local to2=Vector3.new(target.X-rp.X,0,target.Z-rp.Z); local dist=to2.Magnitude
        if dist<=AB.stopTol then bv.Velocity=Vector3.new(); return true end
        local dir=(dist>0) and to2.Unit or Vector3.new()
        if wallAheadAB(dir) then
            local perp=Vector3.new(-dir.Z,0,dir.X).Unit; local ok=false
            for i=1,AB.sideMaxTries do
                local rightHit=workspace:Raycast(rp+Vector3.new(0,AB.wallProbeHeight,0),(dir+perp).Unit*AB.wallProbeLen,rayParamsAB)
                local leftHit =workspace:Raycast(rp+Vector3.new(0,AB.wallProbeHeight,0),(dir-perp).Unit*AB.wallProbeLen,rayParamsAB)
                local sign=(not rightHit and leftHit) and 1 or ((rightHit and not leftHit) and -1 or (i%2==1 and 1 or -1))
                local t1=tick(); while AB.on and tick()-t1<0.22 do bv.Velocity=perp*(AB.sideStep*2.0*sign); RunService.Heartbeat:Wait() end
                bv.Velocity=Vector3.new(); if not wallAheadAB(dir) then ok=true break end
            end
            if not ok then bv.Velocity=Vector3.new(); return false end
        end
        bv.Velocity=dir*AB.speed
        local moved=(rp-lastPos).Magnitude; if moved>0.15 then lastMoveT=tick(); lastPos=rp end
        if (tick()-lastMoveT)>AB.antiStuckTime then
            local perp=Vector3.new(-dir.Z,0,dir.X).Unit
            local t1=tick(); while AB.on and tick()-t1<0.2 do bv.Velocity=perp*(AB.sideStep*2); RunService.Heartbeat:Wait() end
            bv.Velocity=Vector3.new(); t1=tick(); while AB.on and tick()-t1<0.2 do bv.Velocity=-perp*(AB.sideStep*2); RunService.Heartbeat:Wait() end
            bv.Velocity=Vector3.new(); lastMoveT=tick()
        end
        if (tick()-t0)>timeCap then bv.Velocity=Vector3.new(); return false end
        RunService.Heartbeat:Wait()
    end
    return false
end
local function groundYAt(x,z)
    local origin=Vector3.new(x,(root.Position.Y+50),z)
    local hit=workspace:Raycast(origin,Vector3.new(0,-500,0),rayParamsAB)
    if hit then return hit.Position.Y-0.1 end
    return root.Position.Y-3
end
local function spotOccupied(pos,r) r=r or (AB.spacing*0.45)
    local dep=workspace:FindFirstChild("Deployables"); if not dep then return false end
    for _,d in ipairs(dep:GetChildren()) do
        if d:IsA("Model") and d.Name=="Plant Box" then
            local p=d.PrimaryPart or d:FindFirstChildWhichIsA("BasePart")
            if p and (p.Position-pos).Magnitude<=r then return true end
        end
    end
    return false
end
local function placePlantBoxAt(pos)
    if packets and packets.PlaceStructure and packets.PlaceStructure.send then
        pcall(function() packets.PlaceStructure.send{ buildingName="Plant Box", yrot=45, vec=pos, isMobile=false } end)
        return true
    end; return false
end
local function buildCellsFromArea()
    if not (AB.cornerA and AB.cornerB) then return {} end
    local a,b=AB.cornerA,AB.cornerB; local xmin,xmax=math.min(a.X,b.X),math.max(a.X,b.X); local zmin,zmax=math.min(a.Z,b.Z),math.max(a.Z,b.Z)
    local step=AB.spacing; local function snap(v,s) return math.floor(v/s+0.5)*s end
    xmin,xmax=snap(xmin,step),snap(xmax,step); zmin,zmax=snap(zmin,step),snap(zmax,step)
    local cells, row={},0
    for z=zmin,zmax,step do
        local xs,xe,dx; if (row%2==0) then xs,xe,dx=xmin,xmax,step else xs,xe,dx=xmax,xmin,-step end
        for x=xs,xe,dx do table.insert(cells, Vector3.new(x, groundYAt(x,z), z)) end
        row = row + 1
    end
    return cells
end
task.spawn(function()
    while true do
        if AB.on and AB.cornerA and AB.cornerB and root then
            local cells=buildCellsFromArea()
            for _,p in ipairs(cells) do
                if not AB.on then break end
                local fly=Vector3.new(p.X, root.Position.Y, p.Z)
                local ok1=moveBV_to(fly); if not ok1 then continue end
                if not spotOccupied(p) then placePlantBoxAt(p); task.wait(AB.placeDelay) end
            end
            local bv=AB_getBV(); if bv then bv:Destroy() end
        else
            local bv=AB_getBV(); if bv then bv:Destroy() end
            task.wait(0.15)
        end
    end
end)
-- ========= [ TAB: Auto Loot ] =========
do
Tabs.Loot = Window:AddTab({ Title = "Auto Loot", Icon = "package" })
local LOOT_ITEM_NAMES = {
    "Berry","Bloodfruit","Bluefruit","Lemon","Strawberry","Gold","Raw Gold","Crystal Chunk",
    "Coin","Coins","Coin Stack","Essence","Emerald","Raw Emerald","Pink Diamond",
    "Raw Pink Diamond","Void Shard","Jelly","Magnetite","Raw Magnetite","Adurite","Raw Adurite",
    "Ice Cube","Stone","Iron","Raw Iron","Steel","Hide","Leaves","Log","Wood","Pie"
}
local loot_on        = Tabs.Loot:CreateToggle("loot_on",      { Title="Auto Loot", Default=false })
local loot_range     = Tabs.Loot:CreateSlider("loot_range",   { Title="Range (studs)", Min=5, Max=150, Rounding=0, Default=40 })
local loot_batch     = Tabs.Loot:CreateSlider("loot_batch",   { Title="Max pickups / tick", Min=1, Max=50, Rounding=0, Default=12 })
local loot_cd        = Tabs.Loot:CreateSlider("loot_cd",      { Title="Tick cooldown (s)", Min=0.03, Max=0.4, Rounding=2, Default=0.08 })
local loot_chests    = Tabs.Loot:CreateToggle("loot_chests",  { Title="Also loot chests (Contents)", Default=true })
local loot_blacklist = Tabs.Loot:CreateToggle("loot_black",   { Title="Use selection as Blacklist (else Whitelist)", Default=false })
local loot_debug     = Tabs.Loot:CreateToggle("loot_debug",   { Title="Debug (F9)", Default=false })
local loot_dropdown  = Tabs.Loot:CreateDropdown("loot_items", { Title="Items (multi)", Values = LOOT_ITEM_NAMES, Multi=true, Default = { Leaves = true, Log = true } })
local auto_drop_on   = Tabs.Loot:CreateToggle("auto_drop_on", { Title="Auto Drop", Default=false })
local auto_drop_item = Tabs.Loot:CreateDropdown("auto_drop_item", { Title="Auto Drop item (max 1)", Values = LOOT_ITEM_NAMES, Multi=false, Default = "Raw Gold" })
local auto_drop_speed = Tabs.Loot:CreateSlider("auto_drop_speed", { Title="Auto Drop speed (items/s)", Min=1, Max=20, Rounding=0, Default=5 })
local function tryDropSlot(slot)
    local function send(pkt, payload)
        if pkt and pkt.send then
            local ok = pcall(function() pkt.send(payload) end)
            return ok == true
        end
        return false
    end
    local candidates = {}
    local preferred = { "DropBagItem","DropItem","ThrowItem","DiscardItem","Drop","Throw","Discard" }
    for _,name in ipairs(preferred) do
        local pkt = packets and packets[name]
        if pkt and pkt.send then candidates[#candidates+1] = pkt end
    end
    for k,v in pairs(packets or {}) do
        if type(k) == "string" and type(v) == "table" and v.send then
            local lk = string.lower(k)
            if lk:find("drop", 1, true) or lk:find("throw", 1, true) or lk:find("discard", 1, true) then
                candidates[#candidates+1] = v
            end
        end
    end
    local payloads = {
        slot,
        { slot = slot },
        { Slot = slot },
        { itemSlot = slot },
        { ItemSlot = slot },
        { index = slot },
        { Index = slot },
        { slot = slot, amount = 1 },
        { slot = slot, Amount = 1 },
        { slot = slot, qty = 1 },
    }
    for i=1,#candidates do
        local pkt = candidates[i]
        for j=1,#payloads do
            if send(pkt, payloads[j]) then return true end
        end
    end
    return false
end
Tabs.Loot:CreateButton({
    Title = "Drop selected item (once)",
    Callback = function()
        local itemName = auto_drop_item.Value or "Raw Gold"
        local slot = getSlotByName(itemName)
        if not slot then return end
        local ok = tryDropSlot(slot)
        if loot_debug.Value then
            print(string.format("[AutoDrop] once item=%s slot=%s -> %s", tostring(itemName), tostring(slot), ok and "sent" or "failed"))
        end
    end
})
task.spawn(function()
    while true do
        if auto_drop_on.Value then
            local itemName = auto_drop_item.Value or "Raw Gold"
            local slot = getSlotByName(itemName)
            if slot then
                local ok = tryDropSlot(slot)
                if loot_debug.Value then
                    print(string.format("[AutoDrop] item=%s slot=%s -> %s", tostring(itemName), tostring(slot), ok and "sent" or "failed"))
                end
            end
            local speed = math.max(1, tonumber(auto_drop_speed.Value) or 5)
            task.wait(1 / speed)
        else
            task.wait(0.25)
        end
    end
end)
local function safePickup2(eid)
    local ok = pcall(function() pickup(eid) end)
    if not ok and packets and packets.Pickup and packets.Pickup.send then
        pcall(function() packets.Pickup.send(eid) end)
    end
end
local DROP_FOLDERS = { "Items","Drops","WorldDrops","Loot","Dropped","Resources" }
local watchedFolders, conns = {}, {}
local cache = {}
local function normalizedName(inst)
    local a
    if inst.GetAttribute then
        a = inst:GetAttribute("ItemName") or inst:GetAttribute("Name") or inst:GetAttribute("DisplayName")
    end
    if typeof(a) == "string" and a ~= "" then return a end
    return inst.Name
end
local function addDrop(inst)
    if cache[inst] then return end
    local eid = inst.GetAttribute and inst:GetAttribute("EntityID")
    if not eid then return end
    local name = normalizedName(inst)
    local getPos
    if inst:IsA("Model") then
        local pp = inst.PrimaryPart or inst:FindFirstChildWhichIsA("BasePart"); if not pp then return end
        getPos = function() return pp.Position end
    elseif inst:IsA("BasePart") or inst:IsA("MeshPart") then
        getPos = function() return inst.Position end
    else
        return
    end
    cache[inst] = { eid = eid, name = name, getPos = getPos }
end
local function removeDrop(inst) cache[inst] = nil end
local function hookFolder(folder)
    if not folder or watchedFolders[folder] then return end
    watchedFolders[folder] = true
    for _,ch in ipairs(folder:GetChildren()) do addDrop(ch) end
    conns[#conns+1] = folder.ChildAdded:Connect(addDrop)
    conns[#conns+1] = folder.ChildRemoved:Connect(removeDrop)
end
local function hookChests()
    local dep = workspace:FindFirstChild("Deployables")
    if not dep then return end
    for _,mdl in ipairs(dep:GetChildren()) do
        if mdl:IsA("Model") then
            local contents = mdl:FindFirstChild("Contents")
            if contents and not watchedFolders[contents] then
                hookFolder(contents)
            end
        end
    end
    conns[#conns+1] = dep.ChildAdded:Connect(function(mdl)
        task.defer(function()
            if mdl:IsA("Model") then
                local contents = mdl:FindFirstChild("Contents")
                if contents then hookFolder(contents) end
            end
        end)
    end)
end
for _,n in ipairs(DROP_FOLDERS) do hookFolder(workspace:FindFirstChild(n)) end
hookChests()
task.spawn(function()
    while true do
        for _,n in ipairs(DROP_FOLDERS) do
            local f = workspace:FindFirstChild(n)
            if f and not watchedFolders[f] then hookFolder(f) end
        end
        if loot_chests.Value then hookChests() end
        task.wait(1.0)
    end
end)
local function selectedSet()
    local sel, val = {}, loot_dropdown.Value
    if typeof(val) == "table" then
        for k,v in pairs(val) do if v then sel[string.lower(k)] = true end end
    end
    return sel
end
task.spawn(function()
    while true do
        if loot_on.Value and root then
            local set       = selectedSet()
            local useBlack  = loot_blacklist.Value
            local range     = loot_range.Value
            local maxPer    = math.max(1, math.floor(loot_batch.Value))
            local candidates = {}
            for inst,info in pairs(cache) do
                if inst.Parent then
                    local isContents = false
                    if not loot_chests.Value then
                        local p = inst.Parent
                        while p and p ~= workspace do
                            if p.Name == "Contents" then isContents = true; break end
                            p = p.Parent
                        end
                    end
                    if not isContents then
                        local pos = info.getPos()
                        local d   = (pos - root.Position).Magnitude
                        if d <= range then
                            local nm   = info.name or "Unknown"
                            local pass = true
                            if next(set) ~= nil then
                                local inSel = set[string.lower(nm)] == true
                                pass = (useBlack and (not inSel)) or ((not useBlack) and inSel)
                            end
                            if pass then candidates[#candidates+1] = { eid = info.eid, dist = d, name = nm } end
                        end
                    end
                end
            end
            if #candidates > 1 then table.sort(candidates, function(a,b) return a.dist < b.dist end) end
            if loot_debug.Value then
                print(("[AutoLoot] candidates=%d (mode=%s, chests=%s)")
                    :format(#candidates, useBlack and "Blacklist" or "Whitelist", tostring(loot_chests.Value)))
            end
            for i = 1, math.min(maxPer, #candidates) do
                safePickup2(candidates[i].eid)
                if loot_debug.Value then
                    print(("[AutoLoot] pickup #%d: %s [%.1f]"):format(i, candidates[i].name, candidates[i].dist))
                end
                task.wait(0.01)
            end
            task.wait(loot_cd.Value)
        else
            task.wait(0.15)
        end
    end
end)
end
-- ========= [ TAB: ESP ‚Äî God Set ] =========
 do
Tabs.ESP = Window:AddTab({ Title = "ESP (God Set)", Icon = "eye" })
local esp_enable      = Tabs.ESP:CreateToggle("god_esp_enable",    { Title = "Enable ESP", Default = false })
local esp_maxdist     = Tabs.ESP:CreateSlider("god_esp_maxdist",    { Title = "Max distance (studs)", Min=100, Max=3000, Rounding=0, Default=1200 })
local esp_showlabel   = Tabs.ESP:CreateToggle("god_esp_showlabel",  { Title = "Show label over head", Default = false })
local esp_highlight   = Tabs.ESP:CreateToggle("god_esp_highlight",  { Title = "Highlight only if Full Set (3/3)", Default = false })
local esp_only_full   = Tabs.ESP:CreateToggle("god_esp_onlyfull",   { Title = "Show ONLY players with Full Set (3/3)", Default = false })
local COLOR_OK  = Color3.fromRGB(90,255,120)
local COLOR_LO  = Color3.fromRGB(255,210,80)
local COLOR_NO  = Color3.fromRGB(255,90,90)
local GOD_MATCH = { halo={"God Halo","Halo"}, chest={"God Chestplate","Chestplate","God Armor","Armor"}, legs={"God Legs","Legs","Greaves"} }
local function nameMatch(n, list) n=string.lower(tostring(n or "")); for _,v in ipairs(list) do if n:find(string.lower(v),1,true) then return true end end end
local function countGodPieces(model)
    local bits = {halo=false, chest=false, legs=false}
    for _,d in ipairs(model:GetDescendants()) do
        local nm=d.Name
        if not bits.halo  and nameMatch(nm, GOD_MATCH.halo)  then bits.halo  = true end
        if not bits.chest and nameMatch(nm, GOD_MATCH.chest) then bits.chest = true end
        if not bits.legs  and nameMatch(nm, GOD_MATCH.legs)  then bits.legs  = true end
    end
    return (bits.halo and 1 or 0) + (bits.chest and 1 or 0) + (bits.legs and 1 or 0)
end
local function getCharModel(p) local wf=workspace:FindFirstChild("Players"); if wf then local m=wf:FindFirstChild(p.Name); if m and m:IsA("Model") then return m end end return p.Character end
local GOD_ESP = { map = {}, loop = nil, addConn=nil, remConn=nil }
local function makeBoard(adornee) local bb=Instance.new("BillboardGui"); bb.Name="_ESP_GODSET_BB"; bb.AlwaysOnTop=true; bb.Size=UDim2.fromOffset(150,22); bb.StudsOffsetWorldSpace=Vector3.new(0,3.6,0); bb.Adornee=adornee; bb.Parent=adornee; local tl=Instance.new("TextLabel"); tl.BackgroundTransparency=1; tl.Size=UDim2.fromScale(1,1); tl.Font=Enum.Font.GothamBold; tl.TextScaled=true; tl.TextStrokeTransparency=0.25; tl.Text="God Set 0/3"; tl.Parent=bb; return bb,tl end
local function ensureHL(model) local hl=model:FindFirstChild("_ESP_GODSET_HL"); if not hl then hl=Instance.new("Highlight"); hl.Name="_ESP_GODSET_HL"; hl.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop; hl.FillTransparency=1; hl.OutlineTransparency=0; hl.Adornee=model; hl.Parent=model end return hl end
local function attachPlayer(p) if p==Players.LocalPlayer then return end local m=getCharModel(p); if not (m and m.Parent) then return end local hrp=m:FindFirstChild("HumanoidRootPart") or m:FindFirstChildWhichIsA("BasePart"); if not hrp then return end local bb,tl=makeBoard(hrp); local hl=ensureHL(m); GOD_ESP.map[p]={model=m, root=hrp, bb=bb, tl=tl, hl=hl} end
local function detachPlayer(p) local rec=GOD_ESP.map[p]; if not rec then return end if rec.bb then pcall(function() rec.bb:Destroy() end) end if rec.hl then pcall(function() rec.hl:Destroy() end) end GOD_ESP.map[p]=nil end
local function startGodESP()
    if GOD_ESP.loop then return end
    for _,p in ipairs(Players:GetPlayers()) do if p ~= Players.LocalPlayer then attachPlayer(p) end end
    GOD_ESP.addConn = Players.PlayerAdded:Connect(function(p) task.defer(function() attachPlayer(p) end) end)
    GOD_ESP.remConn = Players.PlayerRemoving:Connect(detachPlayer)
    GOD_ESP.loop = RunService.Heartbeat:Connect(function()
        if not esp_enable.Value then for _,rec in pairs(GOD_ESP.map) do if rec.bb then rec.bb.Enabled=false end if rec.hl then rec.hl.Enabled=false end end return end
        local myRoot = (plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")) or nil
        for p,rec in pairs(GOD_ESP.map) do
            if not (rec.model and rec.model.Parent and rec.root and rec.root.Parent) then detachPlayer(p); attachPlayer(p); rec=GOD_ESP.map[p] end
            if rec then
                local inDist = true
                if myRoot then inDist = ((rec.root.Position - myRoot.Position).Magnitude <= esp_maxdist.Value) end
                local cnt = countGodPieces(rec.model)
                local col = (cnt>=3 and COLOR_OK) or (cnt>=1 and COLOR_LO) or COLOR_NO
                local visibleByFilter = (not esp_only_full.Value) or (cnt>=3)
                if rec.tl then rec.tl.Text = string.format("God Set %d/3", cnt); rec.tl.TextColor3=col end
                if rec.bb then rec.bb.Enabled = esp_showlabel.Value and inDist and visibleByFilter end
                if rec.hl then rec.hl.OutlineColor=col; rec.hl.Enabled = (cnt>=3 and esp_highlight.Value and inDist) end
            end
        end
    end)
end
local function stopGodESP() if GOD_ESP.loop then GOD_ESP.loop:Disconnect() GOD_ESP.loop=nil end if GOD_ESP.addConn then GOD_ESP.addConn:Disconnect() GOD_ESP.addConn=nil end if GOD_ESP.remConn then GOD_ESP.remConn:Disconnect() GOD_ESP.remConn=nil end for p,_ in pairs(GOD_ESP.map) do detachPlayer(p) end end
esp_enable:OnChanged(function(v) if v then startGodESP() else stopGodESP() end end)
-- –£–±–∏—Ä–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ ESP –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
-- if esp_enable.Value then startGodESP() end
 end
-- ========= [ TAB: Gold Farm (–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞—Ä–º –∑–æ–ª–æ—Ç–∞) ] =========
do
Tabs.GoldFarm = Window:AddTab({ Title = "Gold Farm", Icon = "coin" })
-- –†–∞–∑–¥–µ–ª —Å –æ—Å–æ–±—ã–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è
local GoldSection = Tabs.GoldFarm:Section("‚ö° GOLD FARMING - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–∞—Ä–º–∞ –∑–æ–ª–æ—Ç–∞ ‚ö°")
-- Break Resources (Auto)
local break_resources_toggle = Tabs.GoldFarm:CreateToggle("break_resources_toggle", { Title = "Break Resources (Auto)", Default = false })
local break_resources_range = Tabs.GoldFarm:CreateSlider("break_resources_range", { Title = "Break Range (studs)", Min = 5, Max = 100, Rounding = 0, Default = 20 })
-- MountainClimber
local mountainclimber_toggle = Tabs.GoldFarm:CreateToggle("mountainclimber_toggle", { Title = "MountainClimber", Default = false })
-- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è breakResources
local resourceCache = {resources = {}, lastUpdate = 0, playerPos = Vector3.new(0,0,0)}
local function breakResources(range)
    if not root or not root.Parent then return end
    
    local currentPos = root.Position
    local now = tick()
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–¥–≤–∏–Ω—É–ª—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–ª–∏ –ø—Ä–æ—à–ª–æ –≤—Ä–µ–º—è
    if (currentPos - resourceCache.playerPos).Magnitude > 5 or now - resourceCache.lastUpdate > 0.1 then
        resourceCache.resources = {}
        resourceCache.playerPos = currentPos
        resourceCache.lastUpdate = now
        
        -- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–µ—Å—É—Ä—Å–æ–≤
        local searchFolders = {"Resources", "Drops", "WorldDrops", "Items", "Deployables"}
        for _, folderName in ipairs(searchFolders) do
            local folder = workspace:FindFirstChild(folderName)
            if folder then
                for _, obj in ipairs(folder:GetChildren()) do
                    if obj.Name == "Gold Node" and (obj:IsA("Model") or obj:IsA("BasePart") or obj:IsA("MeshPart")) then
                        local pos = obj:IsA("Model") and (obj.PrimaryPart and obj.PrimaryPart.Position) or obj.Position
                        if pos and (pos - currentPos).Magnitude <= range then
                            local eid = obj:GetAttribute("EntityID") or obj
                            table.insert(resourceCache.resources, {obj = obj, eid = eid, pos = pos, dist = (pos - currentPos).Magnitude})
                        end
                    end
                end
            end
        end
        
        -- –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –æ–¥–∏–Ω —Ä–∞–∑
        table.sort(resourceCache.resources, function(a, b) return a.dist < b.dist end)
    end
    
    -- –õ–æ–º–∞–µ–º –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤ —Ä–∞–¥–∏—É—Å–µ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏
    if #resourceCache.resources > 0 then
        local eids = {}
        for _, resource in ipairs(resourceCache.resources) do
            if resource.obj and resource.obj.Parent then
                table.insert(eids, resource.eid)
            end
        end
        
        if #eids > 0 then
            pcall(function() swingtool(eids) end)
        end
    end
end
-- –ó–∞–ø—É—Å–∫ break resources (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
task.spawn(function()
    while true do
        if break_resources_toggle.Value then
            breakResources(tonumber(break_resources_range.Value) or 20)
            task.wait(0.02)
        else
            task.wait(0.5)
        end
    end
end)
-- MountainClimber implementation
local slopecon
local function updateMountainClimber()
    if slopecon then slopecon:Disconnect() end
    if mountainclimber_toggle.Value then
        slopecon = RunService.RenderStepped:Connect(function()
            if hum then
                hum.MaxSlopeAngle = 90
                -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Ö–æ–¥—å–±—ã —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å –µ–µ –Ω–∞ —Å–∫–ª–æ–Ω–∞—Ö
                if hum.WalkSpeed < 16 then
                    hum.WalkSpeed = 16
                end
            end
        end)
    else
        if hum then
            hum.MaxSlopeAngle = 46
        end
    end
end
mountainclimber_toggle:OnChanged(updateMountainClimber)
-- Old Boards Remover - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ Old Boards —Å –∫–∞—Ä—Ç—ã (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
local removeOldBoards = function()
    local objectsToRemove = {}
    local workspaceFolders = {"Deployables", "WorldDrops", "Items", "Drops", "Resources", "Workspace"}
    -- –†–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π –¥–ª—è Old Boards
    local boardNames = {
        "Old Board",
        "old_board",
        "OldBoard",
        "oldboard",
        "Board",
        "Wood Board",
        "Wooden Board"
    }
    -- –°–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    for _, folderName in ipairs(workspaceFolders) do
        local folder = workspace:FindFirstChild(folderName)
        if folder then
            for _, obj in ipairs(folder:GetDescendants()) do
                for _, boardName in ipairs(boardNames) do
                    if (obj.Name == boardName or obj.Name:match(boardName) or obj.Name:lower():match(boardName:lower())) and (obj:IsA("Model") or obj:IsA("BasePart")) then
                        table.insert(objectsToRemove, obj)
                    end
                end
            end
        end
    end
    -- –¢–∞–∫–∂–µ –∏—â–µ–º –≤–æ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–∞—Ö workspace
    for _, obj in ipairs(workspace:GetDescendants()) do
        for _, boardName in ipairs(boardNames) do
            if (obj.Name == boardName or obj.Name:match(boardName) or obj.Name:lower():match(boardName:lower())) and (obj:IsA("Model") or obj:IsA("BasePart")) then
                table.insert(objectsToRemove, obj)
            end
        end
    end
    local totalObjects = #objectsToRemove
    if totalObjects == 0 then
        -- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        local foundObjects = {}
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj.Name:lower():match("board") or obj.Name:lower():match("wood") then
                table.insert(foundObjects, obj.Name .. " (" .. obj.ClassName .. ")")
                if #foundObjects >= 10 then break end
            end
        end
        if #foundObjects > 0 then
            Library:Notify{ Title = "Debug", Content = "Found objects: " .. table.concat(foundObjects, ", "), Duration = 5 }
        else
            Library:Notify{ Title = "Debug", Content = "No board/wood objects found", Duration = 5 }
        end
        return
    end
    -- –£–¥–∞–ª—è–µ–º –æ–±—ä–µ–∫—Ç—ã –ø–æ —á–∞—Å—Ç—è–º —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∞–≥–æ–≤
    Library:Notify{ Title = "Gold Farm", Content = "Found " .. totalObjects .. " boards. Removing...", Duration = 3 }
    task.spawn(function()
        local batchSize = 5 -- –£–¥–∞–ª—è–µ–º –ø–æ 5 –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞ —Ä–∞–∑
        local delay = 0.1 -- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∞—á–∫–∞–º–∏
        local removedCount = 0
        for i = 1, totalObjects, batchSize do
            local batchEnd = math.min(i + batchSize - 1, totalObjects)
            for j = i, batchEnd do
                local obj = objectsToRemove[j]
                if obj and obj.Parent then
                    pcall(function()
                        obj:Destroy()
                        removedCount = removedCount + 1
                    end)
                end
            end
            -- –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∞—á–∫–∞–º–∏
            if i + batchSize <= totalObjects then
                task.wait(delay)
            end
        end
        Library:Notify{ Title = "Gold Farm", Content = "Successfully removed " .. removedCount .. " boards", Duration = 3 }
    end)
end
Tabs.GoldFarm:CreateButton({
    Title = "Remove All Old Boards",
    Callback = removeOldBoards
})

-- Anti-AFK Toggle
local antiAfkEnabled = false
local antiAfkConnection = nil

Tabs.GoldFarm:CreateToggle("anti_afk_toggle", {
    Title = "Anti-AFK",
    Default = false
}):OnChanged(function(state)
    antiAfkEnabled = state
    if antiAfkEnabled then
        -- –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º anti_afk —Å–∫—Ä–∏–ø—Ç
        if isfile and readfile then
            local success, content = pcall(readfile, "anti_afk.lua")
            if success then
                loadstring(content)()
                Library:Notify{ Title = "Gold Farm", Content = "Anti-AFK enabled!", Duration = 3 }
            else
                -- Fallback: –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è anti-afk
                local VirtualUser = game:service('VirtualUser')
                antiAfkConnection = game:service('Players').LocalPlayer.Idled:Connect(function()
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                end)
                Library:Notify{ Title = "Gold Farm", Content = "Anti-AFK enabled (built-in)!", Duration = 3 }
            end
        else
            -- Fallback: –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è anti-afk
            local VirtualUser = game:service('VirtualUser')
            antiAfkConnection = game:service('Players').LocalPlayer.Idled:Connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
            Library:Notify{ Title = "Gold Farm", Content = "Anti-AFK enabled (built-in)!", Duration = 3 }
        end
    else
        -- –û—Ç–∫–ª—é—á–∞–µ–º anti-afk
        if antiAfkConnection then
            antiAfkConnection:Disconnect()
            antiAfkConnection = nil
        end
        Library:Notify{ Title = "Gold Farm", Content = "Anti-AFK disabled!", Duration = 3 }
    end
end)
end
-- ========= [ TAB: Player ‚Äî Selective NoClip (TEMPORARILY DISABLED) ] =========
 do
 local PlayerTab = Tabs.Player or Window:AddTab({ Title = "Player", Icon = "ghost" })
-- –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ "Out of local registers"
local snc_disabled = PlayerTab:CreateToggle("snc_disabled", { Title = "Selective NoClip (DISABLED)", Default = false })
PlayerTab:CreateButton({
    Title = "NoClip temporarily disabled due to error",
    Callback = function()
        Library:Notify{ Title = "Player", Content = "Selective NoClip temporarily disabled", Duration = 5 }
    end
})
-- end)
-- ========= [ Finish / Autoload ] =========
Window:SelectTab(1)
Library:Notify{ Title="GMBT Hub", Content="Loaded: Configs + Survival + Farming + Heal + Loot + Combat + ESP + Movement (all OFF by default)", Duration=6 }
pcall(function() SaveManager:LoadAutoloadConfig() end)
end
end
